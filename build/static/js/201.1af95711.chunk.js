"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[201],{5266:function(e,n,r){r.d(n,{h:function(){return c}});var t=r(6031),a=r.n(t);const c=(e,n,r)=>e.map((e=>a().mapKeys(e,((e,t)=>{for(let a=0;a<r.length;a++)if(t===n[a])return r[a];return t}))))},4201:function(e,n,r){r.r(n),r.d(n,{default:function(){return b}});var t=r(7313),a=r(3497),c=r(1629),s=r(6835),o=r(3477),i=r(4076),l=r(7478),u=r(3467),d=r(9848),h=r(6167),x=r(5842),m=r(6417);function j(e){let{data:n,header:r,isShowSerialNo:j=!1,isShowAction:p=!1,actions:Z=["Edit","Delete"],onActionChange:g,onClickAction:f}=e;const[y,k]=(0,t.useState)(null),[S,_]=(0,t.useState)(null),[b,v]=(0,t.useState)(!1);return(0,m.jsxs)(a.Z,{children:[(0,m.jsx)(c.Z,{children:(0,m.jsxs)(s.Z,{children:[(0,m.jsx)(o.Z,{children:(0,m.jsxs)(i.Z,{children:[j&&(0,m.jsx)(l.Z,{sx:{color:"primary.main"},children:"SLNO"}),r.map(((e,n)=>(0,m.jsx)(l.Z,{sx:{color:"primary.main"},children:e},n))),p&&(0,m.jsx)(l.Z,{sx:{color:"primary.main"},children:"Action"})]})}),(0,m.jsx)(u.Z,{children:n.map(((e,n)=>{return(0,m.jsxs)(i.Z,{onClick:()=>(e=>{f&&f(e)})(e._id),children:[j&&(0,m.jsx)(l.Z,{children:n+1}),(0,m.jsx)(l.Z,{children:e.truck.name}),(0,m.jsx)(l.Z,{children:e.truck.registrationNumber}),(0,m.jsx)(l.Z,{children:e.truck.category}),(0,m.jsx)(l.Z,{children:e.truck.truckType}),(0,m.jsx)(l.Z,{children:(r=e.availableFrom,new Date(r).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}))}),p&&(0,m.jsx)(l.Z,{children:(0,m.jsx)(d.Z,{data:e,onActionChange:e=>{g(e)},actions:Z})})]},n);var r}))})]})}),y&&(0,m.jsx)(h.Z,{open:b,close:()=>{k(null),v(!1)},type:y}),S&&(0,m.jsx)(x.Z,{open:b,close:()=>{_(null),v(!1)},doId:S})]})}var p=r(5266),Z=r(1387);const g=["name","RegNo","category","truckType","availableFrom"];function f(e){let{data:n,updateStatus:r,updateData:t}=e;const a=(0,p.h)(n,["name","registrationNumber","category","truckType","availableFrom"],g);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(j,{data:a,header:g,isShowSerialNo:!0,isShowAction:!0,actions:["cancel"],onActionChange:e=>{console.log(e),"cancel"==e.action&&(console.log(e.data._id),r({TruckBookingId:e.data._id,status:"cancelled",cancelReason:"cancelled By Transporter"}).then((e=>{console.log(e.message),Z.Am.success(e.message),t({status:"inqueue"})})).catch((e=>{console.error(e),Z.Am.error("Error occured while updating")})))}})})}var y=r(2832),k=r(1113);function S(){return(0,m.jsx)(a.Z,{children:(0,m.jsx)(y.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:(0,m.jsx)(k.Z,{variant:"h3",color:"secondary.main",children:"InQueue Trucks"})})})}var _=r(1322);function b(){const[e,n]=(0,t.useState)([]),r=e=>{(0,_.kl)(e).then((e=>{n(e)})).catch((e=>{console.log(e)}))};return(0,t.useEffect)((()=>{r({status:"inqueue"})}),[]),(0,m.jsxs)(y.Z,{direction:"column",gap:2,children:[(0,m.jsx)(S,{}),(0,m.jsx)(f,{data:e,updateStatus:_.GB,updateData:r})]})}}}]);