"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[201],{4201:function(e,n,r){r.r(n),r.d(n,{default:function(){return b}});var a=r(7313),t=r(3497),c=r(1629),s=r(6835),o=r(3477),i=r(4076),l=r(7478),u=r(3467),d=r(9848),h=r(6167),x=r(5842),j=r(6417);function m(e){let{data:n,header:r,isShowSerialNo:m=!1,isShowAction:Z=!1,actions:p=["Edit","Delete"],onActionChange:g,onClickAction:k}=e;const[y,S]=(0,a.useState)(null),[f,_]=(0,a.useState)(null),[b,w]=(0,a.useState)(!1);return(0,j.jsxs)(t.Z,{children:[(0,j.jsx)(c.Z,{children:(0,j.jsxs)(s.Z,{children:[(0,j.jsx)(o.Z,{children:(0,j.jsxs)(i.Z,{children:[m&&(0,j.jsx)(l.Z,{sx:{color:"primary.main"},children:"SLNO"}),r.map(((e,n)=>(0,j.jsx)(l.Z,{sx:{color:"primary.main"},children:e},n))),Z&&(0,j.jsx)(l.Z,{sx:{color:"primary.main"},children:"Action"})]})}),(0,j.jsx)(u.Z,{children:n.map(((e,n)=>{return(0,j.jsxs)(i.Z,{onClick:()=>(e=>{k&&k(e)})(e._id),children:[m&&(0,j.jsx)(l.Z,{children:n+1}),(0,j.jsx)(l.Z,{children:e.truck.name}),(0,j.jsx)(l.Z,{children:e.truck.registrationNumber}),(0,j.jsx)(l.Z,{children:e.truck.category}),(0,j.jsx)(l.Z,{children:e.truck.truckType}),(0,j.jsx)(l.Z,{children:(r=e.availableFrom,new Date(r).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}))}),Z&&(0,j.jsx)(l.Z,{children:(0,j.jsx)(d.Z,{data:e,onActionChange:e=>{g(e)},actions:p})})]},n);var r}))})]})}),y&&(0,j.jsx)(h.Z,{open:b,close:()=>{S(null),w(!1)},type:y}),f&&(0,j.jsx)(x.Z,{open:b,close:()=>{_(null),w(!1)},doId:f})]})}var Z=r(5266),p=r(1387);const g=["name","RegNo","category","truckType","availableFrom"];function k(e){let{data:n,updateStatus:r,updateData:a}=e;const t=(0,Z.h)(n,["name","registrationNumber","category","truckType","availableFrom"],g);return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(m,{data:t,header:g,isShowSerialNo:!0,isShowAction:!0,actions:["cancel"],onActionChange:e=>{console.log(e),"cancel"==e.action&&(console.log(e.data._id),r({TruckBookingId:e.data._id,status:"cancelled",cancelReason:"cancelled By Transporter"}).then((e=>{console.log(e.message),p.Am.success(e.message),a({status:"inqueue"})})).catch((e=>{console.error(e),p.Am.error("Error occured while updating")})))}})})}var y=r(2832),S=r(1113);function f(){return(0,j.jsx)(t.Z,{children:(0,j.jsx)(y.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:(0,j.jsx)(S.Z,{variant:"h3",color:"secondary.main",children:"InQueue Trucks"})})})}var _=r(1322);function b(){const[e,n]=(0,a.useState)([]),r=e=>{(0,_.kl)(e).then((e=>{n(e)})).catch((e=>{console.log(e)}))};return(0,a.useEffect)((()=>{r({status:"inqueue"})}),[]),(0,j.jsxs)(y.Z,{direction:"column",gap:2,children:[(0,j.jsx)(f,{}),(0,j.jsx)(k,{data:e,updateStatus:_.GB,updateData:r})]})}}}]);