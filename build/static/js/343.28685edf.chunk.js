"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[343],{4343:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var c=r(7313),n=r(9536),a=r(9019),s=r(1550),o=r(3306),l=r(8797),i=r(1405),u=r(1113),d=r(6046),m=r(3208),h=r(5904),x=r(658),p=r.n(x),k=r(8999),j=r(1322),y=r(8737),f=r(1095),b=r(5660),T=r(6417);const g=["Sl No","Truck Name","Registration Number","Company","Contact","Type","Category"];function Z(){const[e,t]=(0,c.useState)(20),[r,x]=(0,c.useState)(p()()),[Z,_]=(0,c.useState)([]);(0,c.useEffect)((()=>{(()=>{const t={type:e,date:r.format("DD/MM/YYYY")};(0,j.BU)(t).then((e=>{console.log(e),_(e)})).catch((e=>{console.error(e)}))})()}),[e,r]);const N=Z.map(((e,t)=>(console.log("Mapping item:",e),{"Sl No":t+1,"Truck Name":e.truck.name,"Registration Number":e.truck.registrationNumber,Company:e.truck.companyId.name,Contact:e.truck.companyId.contactNumber,Type:`${e.truck.truckType} FT`,Category:e.truck.category})));return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(n.Z,{sx:{mb:2},children:(0,T.jsx)(a.ZP,{container:!0,spacing:2,children:(0,T.jsx)(a.ZP,{item:!0,xs:12,children:(0,T.jsx)(f.Z,{variant:"contained",startIcon:(0,T.jsx)(b.Z,{}),onClick:()=>{const t=Z.map(((e,t)=>({"Sl No":t+1,"Registration Number":e.truck.registrationNumber,Type:`${e.truck.truckType} FT`,"Queue Added Date":p()(e.createdAt).format("DD/MM/YYYY HH:mm")}))),c=y.P6.book_new(),n=y.P6.json_to_sheet(t);y.P6.book_append_sheet(c,n,`${e}FT Trucks`);const a=(0,y.cW)(c,{bookType:"xlsx",type:"array"}),s=r.format("DD-MM-YYYY"),o=`Truck_Queue_${e}FT_${s}.xlsx`,l=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),i=window.URL.createObjectURL(l),u=document.createElement("a");u.href=i,u.download=o,u.click(),window.URL.revokeObjectURL(i)},sx:{float:"right",mb:2},children:"Export to Excel"})})})}),(0,T.jsx)(n.Z,{sx:{mb:2},children:(0,T.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,T.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,T.jsxs)(s.Z,{fullWidth:!0,size:"small",children:[(0,T.jsx)(o.Z,{children:"Truck Type"}),(0,T.jsxs)(l.Z,{value:e,label:"Truck Type",onChange:e=>t(e.target.value),children:[(0,T.jsx)(i.Z,{value:20,children:"20 FT"}),(0,T.jsx)(i.Z,{value:40,children:"40 FT"})]})]})}),(0,T.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,T.jsx)(m._,{dateAdapter:h.y,children:(0,T.jsx)(d.M,{label:"Select Date",value:r,onChange:e=>x(e),disabled:!0,slotProps:{textField:{size:"small",fullWidth:!0}}})})})]})}),0===Z.length?(0,T.jsx)(n.Z,{sx:{display:"flex",justifyContent:"center",mt:3},children:(0,T.jsx)(u.Z,{children:"No Trucks in Queue for selected criteria"})}):(0,T.jsx)(k.Z,{data:N,header:g,isShowSerialNo:!1,isShowAction:!1})]})}}}]);