"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[565],{1322:function(n,t,o){o.d(t,{$K:function(){return g},$g:function(){return S},Au:function(){return d},CE:function(){return x},Dx:function(){return A},ES:function(){return U},Et:function(){return I},GB:function(){return p},Gu:function(){return l},IB:function(){return O},Jq:function(){return F},Jr:function(){return k},KI:function(){return J},M$:function(){return C},Mg:function(){return N},Pe:function(){return h},Q1:function(){return m},RY:function(){return P},S1:function(){return _},T5:function(){return w},T7:function(){return b},Tj:function(){return W},VW:function(){return v},Wo:function(){return z},X2:function(){return L},X6:function(){return j},Xy:function(){return E},a2:function(){return y},aZ:function(){return u},cW:function(){return D},jK:function(){return B},ji:function(){return s},kR:function(){return T},kl:function(){return f},lQ:function(){return r},oR:function(){return c},r7:function(){return i},ss:function(){return $},ut:function(){return Z},xF:function(){return H},zE:function(){return R}});var e=o(5662);console.log(window.location.hostname);const a=e.Z.create({baseURL:"https://apis.fleetq.live/api/",headers:{"Content-Type":"application/json"}});async function r(n){const t=await a.post("company",n);return console.log(t.data),t.data}async function c(n){console.log(n);const t=await a.delete("company/"+n,n);return console.log(t.data),t.data}async function s(n,t){console.log(t);const o=await a.patch("company/"+n,t);return console.log(o.data),o.data}async function i(n){const t=await a.post("company/getAllCompany",n);return console.log(t.data),t.data}async function l(n){const t=await a.post("truck",n);return console.log(t.data),t.data}async function u(n){const t=await a.post("truck/getAllTruck",n);return console.log(t.data),t.data}async function d(n){const t=await a.post("truck/updateTruckStatus",n);return console.log(t.data),t.data}async function g(n){console.log(n);const t=await a.delete("truck/"+n,n);return console.log(t.data),t.data}async function p(n){const t=await a.post("truck/updateTruckBookingStatus",n);return console.log(t.data),t.data}async function f(n){const t=await a.post("truck/getAllTruckBookings",n);return console.log(t.data),t.data}async function h(n){const t=await a.post("truck/addTruckToBooking",n);return console.log(t.data),t.data}async function y(n){const t=await a.post("party/getAllParty",n);return console.log(t.data),t.data}async function m(n){const t=await a.post("party",n);return console.log(t.data),t.data}async function w(n){const t=await a.delete(`party/${n}`);return console.log(t.data),t.data}async function x(n,t){const o=await a.post(`party/${n}`,t);return console.log(o.data),o.data}async function j(n){const t=await a.put(`party/updateStatus/${n}`);return console.log(t.data),t.data}async function k(n){return(await a.post("truck/getAllTruckBookings",{status:n.status})).data}async function v(n){return(await a.post("truck/getInQueueTrucks",n)).data}async function Z(n){const t=await a.post("allocation/getAllocationDetails",n);return console.log(t.data),t.data}async function b(n){const t=await a.post("allocation",n);return console.log(t.data),t.data}async function B(n){const t=await a.post("allocation/changeAllocationStatus",n);return console.log(t.data),t.data}async function S(n){const t=await a.post("user/login",n);return console.log(t),console.log(t.data),t.data}async function P(n){const t=await a.post("location/getAllLocation",n);return console.log(t.data),t.data}async function A(n){const t=await a.post("location",n);return console.log(t.data),t.data}async function E(n){const t=await a.post("doBooking/getAllDO",n);return console.log(t.data),t.data}async function D(n){const t=await a.post("doBooking",n);return console.log(t.data),t.data}async function T(n){const t=await a.post("doBooking/uploadDO",n);return console.log(t.data),t.data}async function C(n,t){try{const o=await a.put(`doBooking/updateDO/${n}`,t);return console.log(o.data),o.data}catch(o){throw console.error("Error updating delivery order:",o),o}}async function I(n,t){try{const o=await a.post(`doBooking/cancelDO/${n}`,t);return console.log(o.data),o.data}catch(o){throw console.error("Error updating delivery order:",o),o}}async function $(n,t){try{const o=await a.post(`doBooking/cancelDOBooking/${n}`,t);return console.log(o.data),o.data}catch(o){throw console.error("Error cancelling Do booking:",o),o}}async function H(n){try{const t=await a.post(`doBooking/reopen-do-booking/${n}`);return console.log(t.data),t.data}catch(t){throw console.error("Error cancelling Do booking:",t),t}}async function O(n,t){try{const o=await a.post(`allocation/cancel-allocated-booking/${n}`,t);return console.log(o.data),o.data}catch(o){throw console.error("Error cancelling Do booking:",o),o}}async function W(n){try{const t=await a.post(`allocation/re-allocate-booking/${n}`);return console.log(t.data),t.data}catch(t){throw console.error("Error cancelling Do booking:",t),t}}async function _(n){const t=await a.post("doBooking/getAllDeliveryOrders",n);return console.log(t.data),t.data}async function z(n){const t=await a.delete("doBooking",n);return console.log(t.data),t.data}async function J(n){const t=await a.delete("doBooking/deleteDeliveryOrder/"+n);return console.log(t.data),t.data}async function L(n){const t=await a.post("driver",n);return console.log(t.data),t.data}async function R(n){const t=await a.post("driver/getAllDrivers",n);return console.log(t.data),t.data}async function F(n){const t=await a.post("driver/getCompanyDrivers",n);return console.log(t.data),t.data}async function N(n){console.log(n);const t=await a.delete("driver/"+n,n);return console.log(t.data),t.data}async function U(n,t){console.log(t);const o=await a.patch("driver/"+n,t);return console.log(o.data),o.data}a.interceptors.request.use((async n=>{const t=localStorage.getItem("token");return t?n.headers.Authorization="Bearer "+t:console.warn("Token not found in localStorage"),n}),(n=>Promise.reject(n))),a.interceptors.response.use((n=>n),(n=>(n.response&&401===n.response.status&&(console.log("Unauthorized, logging out..."),localStorage.clear(),window.location.href="/login"),Promise.reject(n))))},3565:function(n,t,o){o.r(t),o.d(t,{default:function(){return H}});var e=o(7890),a=o(9466),r=o(7313),c=o(9860),s=o(5300),i=o(9019),l=o(2832),u=o(1113),d=o(2247);var g=(0,o(7592).ZP)("div")((n=>{let{theme:t}=n;return{backgroundColor:t.palette.primary.light,minHeight:"100vh"}})),p=o(9536),f=o(3497),h=o(6417);var y=n=>{let{children:t,...o}=n;return(0,h.jsx)(f.Z,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...o,children:(0,h.jsx)(p.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:t})})},m=o(1387),w=o(1550),x=o(3306),j=o(7843),k=o(5480),v=o(1727),Z=o(7131),b=o(1095),B=o(9429),S=o(551),P=o(1730);const A=(0,r.forwardRef)(((n,t)=>{var o,e;let a,r,{children:c,type:s,direction:i,offset:l,scale:u}=n;switch(i){case"up":case"left":a=l,r=0;break;default:a=0,r=l}const[d,g]=(0,S.n)(a,r),[p,f]=(0,S.n)(a,r);switch(s){case"rotate":return(0,h.jsx)(P.E.div,{ref:t,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:c});case"slide":return"up"===i||"down"===i?(0,h.jsx)(P.E.div,{ref:t,animate:{y:void 0!==p?p:""},onHoverEnd:()=>f(),onHoverStart:()=>f(),children:c}):(0,h.jsx)(P.E.div,{ref:t,animate:{x:void 0!==d?d:""},onHoverEnd:()=>g(),onHoverStart:()=>g(),children:c});default:return"number"===typeof u&&(u={hover:u,tap:u}),(0,h.jsx)(P.E.div,{ref:t,whileHover:{scale:null===(o=u)||void 0===o?void 0:o.hover},whileTap:{scale:null===(e=u)||void 0===e?void 0:e.tap},children:c})}}));A.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}};var E=A,D=o(237),T=o(2611);var C=n=>{let{adminLogin:t,...o}=n;const a=(0,c.Z)(),s=(0,e.s0)(),[i,l]=(0,r.useState)(!1),u=()=>{l(!i)},d=n=>{n.preventDefault()};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(B.J9,{initialValues:{phone:"",password:"A@123",submit:null},onSubmit:async n=>{try{t({phone:n.phone,password:n.password}).then((n=>{console.log(n);let t="admin";n.user.companyId&&(t=n.user.companyId.companyType),localStorage.setItem("role",t),localStorage.setItem("token",n.accessToken),localStorage.setItem("user",JSON.stringify(n.user)),m.Am.success("Login Success"),s("admin"==t?"/doUpload":"/dashboard")})).catch((n=>{console.log(n),m.Am.error(n.response.data.message),console.log(n)}))}catch(o){m.Am.error(o),console.error(o)}},children:n=>{let{errors:t,handleBlur:e,handleChange:r,handleSubmit:c,isSubmitting:s,touched:l,values:g}=n;return(0,h.jsxs)("form",{noValidate:!0,onSubmit:c,...o,children:[(0,h.jsxs)(w.Z,{fullWidth:!0,error:Boolean(l.phone&&t.phone),sx:{...a.typography.customInput},children:[(0,h.jsx)(x.Z,{htmlFor:"outlined-adornment-email-login",children:"Phone Number"}),(0,h.jsx)(j.Z,{id:"outlined-adornment-email-login",type:"number",value:g.phone,name:"phone",onBlur:e,onChange:r,label:"Phone Number ",inputProps:{}}),l.phone&&t.phone&&(0,h.jsx)(k.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:t.phone})]}),(0,h.jsxs)(w.Z,{fullWidth:!0,error:Boolean(l.password&&t.password),sx:{...a.typography.customInput},children:[(0,h.jsx)(x.Z,{htmlFor:"outlined-adornment-password-login",children:"Password"}),(0,h.jsx)(j.Z,{id:"outlined-adornment-password-login",type:i?"text":"password",value:g.password,name:"password",onBlur:e,onChange:r,endAdornment:(0,h.jsx)(v.Z,{position:"end",children:(0,h.jsx)(Z.Z,{"aria-label":"toggle password visibility",onClick:u,onMouseDown:d,edge:"end",size:"large",children:i?(0,h.jsx)(D.Z,{}):(0,h.jsx)(T.Z,{})})}),label:"Password",inputProps:{}}),l.password&&t.password&&(0,h.jsx)(k.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:t.password})]}),t.submit&&(0,h.jsx)(p.Z,{sx:{mt:3},children:(0,h.jsx)(k.Z,{error:!0,children:t.submit})}),(0,h.jsx)(p.Z,{sx:{mt:2},children:(0,h.jsx)(E,{children:(0,h.jsx)(b.Z,{disableElevation:!0,disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Sign in"})})})]})}})})},I=o(9062),$=o(1322);var H=()=>{const n=(0,c.Z)(),t=(0,s.Z)(n.breakpoints.down("md")),o=(0,e.s0)();return(0,r.useEffect)((()=>{let n=JSON.parse(localStorage.getItem("user"));console.log(n),n&&o("/dashboard")}),[]),(0,h.jsx)(g,{children:(0,h.jsx)(i.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:(0,h.jsx)(i.ZP,{item:!0,xs:12,children:(0,h.jsx)(i.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,h.jsx)(i.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,h.jsx)(y,{children:(0,h.jsxs)(i.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,h.jsx)(i.ZP,{item:!0,sx:{mb:3},children:(0,h.jsx)(a.rU,{to:"#",children:(0,h.jsx)(I.Z,{})})}),(0,h.jsx)(i.ZP,{item:!0,xs:12,children:(0,h.jsx)(i.ZP,{container:!0,direction:t?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,h.jsx)(i.ZP,{item:!0,children:(0,h.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:[(0,h.jsx)(u.Z,{color:n.palette.secondary.main,gutterBottom:!0,variant:t?"h3":"h2",children:"Hi, Welcome Back"}),(0,h.jsx)(u.Z,{variant:"caption",fontSize:"16px",textAlign:t?"center":"inherit",children:"Enter your credentials to continue"})]})})})}),(0,h.jsx)(i.ZP,{item:!0,xs:12,children:(0,h.jsx)(C,{adminLogin:$.$g})}),(0,h.jsx)(i.ZP,{item:!0,xs:12,children:(0,h.jsx)(d.Z,{})}),(0,h.jsx)(i.ZP,{item:!0,xs:12})]})})})})})})})}}}]);