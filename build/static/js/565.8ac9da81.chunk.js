"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[565],{1322:function(t,n,o){o.d(n,{$K:function(){return p},$g:function(){return P},Au:function(){return d},CE:function(){return w},Dx:function(){return A},ES:function(){return L},Et:function(){return D},GB:function(){return g},Gu:function(){return l},Jq:function(){return z},Jr:function(){return v},KI:function(){return O},M$:function(){return I},Mg:function(){return J},Pe:function(){return h},Q1:function(){return y},RY:function(){return B},S1:function(){return H},T5:function(){return x},T7:function(){return b},VW:function(){return k},Wo:function(){return $},X2:function(){return W},X6:function(){return j},Xy:function(){return C},a2:function(){return m},aZ:function(){return u},cW:function(){return T},jK:function(){return S},ji:function(){return c},kR:function(){return E},kl:function(){return f},lQ:function(){return r},oR:function(){return s},r7:function(){return i},ut:function(){return Z},zE:function(){return _}});var e=o(5662);console.log(window.location.hostname);const a=e.Z.create({baseURL:"https://apis.fleetq.live/api/",headers:{"Content-Type":"application/json"}});async function r(t){const n=await a.post("company",t);return console.log(n.data),n.data}async function s(t){console.log(t);const n=await a.delete("company/"+t,t);return console.log(n.data),n.data}async function c(t,n){console.log(n);const o=await a.patch("company/"+t,n);return console.log(o.data),o.data}async function i(t){const n=await a.post("company/getAllCompany",t);return console.log(n.data),n.data}async function l(t){const n=await a.post("truck",t);return console.log(n.data),n.data}async function u(t){const n=await a.post("truck/getAllTruck",t);return console.log(n.data),n.data}async function d(t){const n=await a.post("truck/updateTruckStatus",t);return console.log(n.data),n.data}async function p(t){console.log(t);const n=await a.delete("truck/"+t,t);return console.log(n.data),n.data}async function g(t){const n=await a.post("truck/updateTruckBookingStatus",t);return console.log(n.data),n.data}async function f(t){const n=await a.post("truck/getAllTruckBookings",t);return console.log(n.data),n.data}async function h(t){const n=await a.post("truck/addTruckToBooking",t);return console.log(n.data),n.data}async function m(t){const n=await a.post("party/getAllParty",t);return console.log(n.data),n.data}async function y(t){const n=await a.post("party",t);return console.log(n.data),n.data}async function x(t){const n=await a.delete(`party/${t}`);return console.log(n.data),n.data}async function w(t,n){const o=await a.post(`party/${t}`,n);return console.log(o.data),o.data}async function j(t){const n=await a.put(`party/updateStatus/${t}`);return console.log(n.data),n.data}async function v(t){return(await a.post("truck/getAllTruckBookings",{status:t.status})).data}async function k(t){return(await a.post("truck/getInQueueTrucks",t)).data}async function Z(t){const n=await a.post("allocation/getAllocationDetails",t);return console.log(n.data),n.data}async function b(t){const n=await a.post("allocation",t);return console.log(n.data),n.data}async function S(t){const n=await a.post("allocation/changeAllocationStatus",t);return console.log(n.data),n.data}async function P(t){const n=await a.post("user/login",t);return console.log(n),console.log(n.data),n.data}async function B(t){const n=await a.post("location/getAllLocation",t);return console.log(n.data),n.data}async function A(t){const n=await a.post("location",t);return console.log(n.data),n.data}async function C(t){const n=await a.post("doBooking/getAllDO",t);return console.log(n.data),n.data}async function T(t){const n=await a.post("doBooking",t);return console.log(n.data),n.data}async function E(t){const n=await a.post("doBooking/uploadDO",t);return console.log(n.data),n.data}async function I(t,n){try{const o=await a.put(`doBooking/updateDO/${t}`,n);return console.log(o.data),o.data}catch(o){throw console.error("Error updating delivery order:",o),o}}async function D(t,n){try{const o=await a.post(`doBooking/cancelDO/${t}`,n);return console.log(o.data),o.data}catch(o){throw console.error("Error updating delivery order:",o),o}}async function H(t){const n=await a.post("doBooking/getAllDeliveryOrders",t);return console.log(n.data),n.data}async function $(t){const n=await a.delete("doBooking",t);return console.log(n.data),n.data}async function O(t){const n=await a.delete("doBooking/deleteDeliveryOrder/"+t);return console.log(n.data),n.data}async function W(t){const n=await a.post("driver",t);return console.log(n.data),n.data}async function _(t){const n=await a.post("driver/getAllDrivers",t);return console.log(n.data),n.data}async function z(t){const n=await a.post("driver/getCompanyDrivers",t);return console.log(n.data),n.data}async function J(t){console.log(t);const n=await a.delete("driver/"+t,t);return console.log(n.data),n.data}async function L(t,n){console.log(n);const o=await a.patch("driver/"+t,n);return console.log(o.data),o.data}a.interceptors.request.use((async t=>{const n=localStorage.getItem("token");return n?t.headers.Authorization="Bearer "+n:console.warn("Token not found in localStorage"),t}),(t=>Promise.reject(t))),a.interceptors.response.use((t=>t),(t=>(t.response&&401===t.response.status&&(console.log("Unauthorized, logging out..."),localStorage.clear(),window.location.href="/login"),Promise.reject(t))))},3565:function(t,n,o){o.r(n),o.d(n,{default:function(){return $}});var e=o(7890),a=o(9466),r=o(7313),s=o(9860),c=o(5300),i=o(9019),l=o(2832),u=o(1113),d=o(2247);var p=(0,o(7592).ZP)("div")((t=>{let{theme:n}=t;return{backgroundColor:n.palette.primary.light,minHeight:"100vh"}})),g=o(9536),f=o(3497),h=o(6417);var m=t=>{let{children:n,...o}=t;return(0,h.jsx)(f.Z,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...o,children:(0,h.jsx)(g.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:n})})},y=o(1387),x=o(1550),w=o(3306),j=o(7843),v=o(5480),k=o(1727),Z=o(7131),b=o(1095),S=o(9429),P=o(551),B=o(1730);const A=(0,r.forwardRef)(((t,n)=>{var o,e;let a,r,{children:s,type:c,direction:i,offset:l,scale:u}=t;switch(i){case"up":case"left":a=l,r=0;break;default:a=0,r=l}const[d,p]=(0,P.n)(a,r),[g,f]=(0,P.n)(a,r);switch(c){case"rotate":return(0,h.jsx)(B.E.div,{ref:n,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:s});case"slide":return"up"===i||"down"===i?(0,h.jsx)(B.E.div,{ref:n,animate:{y:void 0!==g?g:""},onHoverEnd:()=>f(),onHoverStart:()=>f(),children:s}):(0,h.jsx)(B.E.div,{ref:n,animate:{x:void 0!==d?d:""},onHoverEnd:()=>p(),onHoverStart:()=>p(),children:s});default:return"number"===typeof u&&(u={hover:u,tap:u}),(0,h.jsx)(B.E.div,{ref:n,whileHover:{scale:null===(o=u)||void 0===o?void 0:o.hover},whileTap:{scale:null===(e=u)||void 0===e?void 0:e.tap},children:s})}}));A.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}};var C=A,T=o(237),E=o(2611);var I=t=>{let{adminLogin:n,...o}=t;const a=(0,s.Z)(),c=(0,e.s0)(),[i,l]=(0,r.useState)(!1),u=()=>{l(!i)},d=t=>{t.preventDefault()};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(S.J9,{initialValues:{phone:"",password:"A@123",submit:null},onSubmit:async t=>{try{n({phone:t.phone,password:t.password}).then((t=>{console.log(t);let n="admin";t.user.companyId&&(n=t.user.companyId.companyType),localStorage.setItem("role",n),localStorage.setItem("token",t.accessToken),localStorage.setItem("user",JSON.stringify(t.user)),y.Am.success("Login Success"),c("admin"==n?"/doUpload":"/dashboard")})).catch((t=>{console.log(t),y.Am.error(t.response.data.message),console.log(t)}))}catch(o){y.Am.error(o),console.error(o)}},children:t=>{let{errors:n,handleBlur:e,handleChange:r,handleSubmit:s,isSubmitting:c,touched:l,values:p}=t;return(0,h.jsxs)("form",{noValidate:!0,onSubmit:s,...o,children:[(0,h.jsxs)(x.Z,{fullWidth:!0,error:Boolean(l.phone&&n.phone),sx:{...a.typography.customInput},children:[(0,h.jsx)(w.Z,{htmlFor:"outlined-adornment-email-login",children:"Phone Number"}),(0,h.jsx)(j.Z,{id:"outlined-adornment-email-login",type:"number",value:p.phone,name:"phone",onBlur:e,onChange:r,label:"Phone Number ",inputProps:{}}),l.phone&&n.phone&&(0,h.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:n.phone})]}),(0,h.jsxs)(x.Z,{fullWidth:!0,error:Boolean(l.password&&n.password),sx:{...a.typography.customInput},children:[(0,h.jsx)(w.Z,{htmlFor:"outlined-adornment-password-login",children:"Password"}),(0,h.jsx)(j.Z,{id:"outlined-adornment-password-login",type:i?"text":"password",value:p.password,name:"password",onBlur:e,onChange:r,endAdornment:(0,h.jsx)(k.Z,{position:"end",children:(0,h.jsx)(Z.Z,{"aria-label":"toggle password visibility",onClick:u,onMouseDown:d,edge:"end",size:"large",children:i?(0,h.jsx)(T.Z,{}):(0,h.jsx)(E.Z,{})})}),label:"Password",inputProps:{}}),l.password&&n.password&&(0,h.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:n.password})]}),n.submit&&(0,h.jsx)(g.Z,{sx:{mt:3},children:(0,h.jsx)(v.Z,{error:!0,children:n.submit})}),(0,h.jsx)(g.Z,{sx:{mt:2},children:(0,h.jsx)(C,{children:(0,h.jsx)(b.Z,{disableElevation:!0,disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Sign in"})})})]})}})})},D=o(9062),H=o(1322);var $=()=>{const t=(0,s.Z)(),n=(0,c.Z)(t.breakpoints.down("md")),o=(0,e.s0)();return(0,r.useEffect)((()=>{let t=JSON.parse(localStorage.getItem("user"));console.log(t),t&&o("/dashboard")}),[]),(0,h.jsx)(p,{children:(0,h.jsx)(i.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:(0,h.jsx)(i.ZP,{item:!0,xs:12,children:(0,h.jsx)(i.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,h.jsx)(i.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,h.jsx)(m,{children:(0,h.jsxs)(i.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,h.jsx)(i.ZP,{item:!0,sx:{mb:3},children:(0,h.jsx)(a.rU,{to:"#",children:(0,h.jsx)(D.Z,{})})}),(0,h.jsx)(i.ZP,{item:!0,xs:12,children:(0,h.jsx)(i.ZP,{container:!0,direction:n?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,h.jsx)(i.ZP,{item:!0,children:(0,h.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:[(0,h.jsx)(u.Z,{color:t.palette.secondary.main,gutterBottom:!0,variant:n?"h3":"h2",children:"Hi, Welcome Back"}),(0,h.jsx)(u.Z,{variant:"caption",fontSize:"16px",textAlign:n?"center":"inherit",children:"Enter your credentials to continue"})]})})})}),(0,h.jsx)(i.ZP,{item:!0,xs:12,children:(0,h.jsx)(I,{adminLogin:H.$g})}),(0,h.jsx)(i.ZP,{item:!0,xs:12,children:(0,h.jsx)(d.Z,{})}),(0,h.jsx)(i.ZP,{item:!0,xs:12})]})})})})})})})}}}]);