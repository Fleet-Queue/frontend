"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[835],{5842:function(e,t,n){var r=n(7313),a=n(301),i=n(1095),o=n(4469),s=n(5908),c=n(9289),l=n(7131),d=n(1113),u=n(9536),h=n(501),m=n(9019),x=n(1198),p=n(1322),g=n(1387),j=n(6417);const f=r.forwardRef((function(e,t){return(0,j.jsx)(a.Z,{direction:"up",ref:t,...e})}));t.Z=e=>{let{open:t,close:n,doId:a}=e;const[Z,y]=r.useState({}),v=()=>{n()},b=e=>{(0,p.ut)(e).then((e=>{y(e)})).catch((e=>{var t,n;console.error(e),g.Am.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error fetching allocation details")}))},k=(e,t)=>{(0,p.jK)({status:t,allocId:e}).then((()=>{g.Am.success("Status updated successfully"),b({doBookingId:a})})).catch((e=>{var t,n;console.error(e),g.Am.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error updating status")}))};(0,r.useEffect)((()=>{a&&b({doBookingId:a})}),[a]);return(0,j.jsxs)(o.Z,{fullWidth:!0,maxWidth:"md",open:t,onClose:v,TransitionComponent:f,children:[(0,j.jsx)(s.Z,{sx:{position:"relative"},children:(0,j.jsxs)(c.Z,{children:[(0,j.jsx)(l.Z,{edge:"start",color:"inherit",onClick:v,"aria-label":"close",children:(0,j.jsx)(x.Z,{})}),(0,j.jsx)(d.Z,{sx:{ml:2,flex:1,color:"white"},variant:"h3",component:"div",children:"Allocated Truck Details"}),(0,j.jsx)(i.Z,{autoFocus:!0,color:"inherit",onClick:v,children:"Close"})]})}),(null===Z||void 0===Z?void 0:Z.truckBookingId)&&(0,j.jsxs)(u.Z,{p:2,children:[(0,j.jsxs)(h.Z,{variant:"outlined",sx:{p:2,mb:2},children:[(0,j.jsx)(d.Z,{variant:"h6",gutterBottom:!0,children:"Truck Info"}),(0,j.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,j.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,j.jsxs)(d.Z,{children:[(0,j.jsx)("strong",{children:"Name:"})," ",Z.truckBookingId.truck.name]}),(0,j.jsxs)(d.Z,{children:[(0,j.jsx)("strong",{children:"Reg. No.:"})," ",Z.truckBookingId.truck.registrationNumber]})]}),(0,j.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,j.jsxs)(d.Z,{children:[(0,j.jsx)("strong",{children:"Category:"})," ",Z.truckBookingId.truck.category]}),(0,j.jsxs)(d.Z,{children:[(0,j.jsx)("strong",{children:"Type:"})," ",Z.truckBookingId.truck.truckType," FT"]})]}),(0,j.jsx)(m.ZP,{item:!0,xs:12,children:(0,j.jsxs)(d.Z,{children:[(0,j.jsx)("strong",{children:"Allocated On:"})," ",(w=Z.allocatedOn,new Date(w).toLocaleString())]})})]})]}),(0,j.jsxs)(h.Z,{variant:"outlined",sx:{p:2,mb:2},children:[(0,j.jsx)(d.Z,{variant:"h6",gutterBottom:!0,children:"Company Info"}),(0,j.jsxs)(d.Z,{children:[(0,j.jsx)("strong",{children:"Company:"})," ",Z.truckBookingId.truck.companyId.name]}),(0,j.jsxs)(d.Z,{children:[(0,j.jsx)("strong",{children:"Contact:"})," ",Z.truckBookingId.truck.companyId.contactNumber]})]}),(0,j.jsxs)(h.Z,{variant:"outlined",sx:{p:2},children:[(0,j.jsx)(d.Z,{variant:"h6",gutterBottom:!0,children:"Driver Info & Status"}),(0,j.jsxs)(m.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,j.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,j.jsxs)(d.Z,{children:[(0,j.jsx)("strong",{children:"Driver:"})," ",Z.truckBookingId.truck.driverId.name]}),(0,j.jsxs)(d.Z,{children:[(0,j.jsx)("strong",{children:"Contact:"})," ",Z.truckBookingId.truck.driverId.contactNumber]})]}),(0,j.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,j.jsxs)(d.Z,{children:[(0,j.jsx)("strong",{children:"Status:"})," ",Z.status]}),(0,j.jsx)(u.Z,{mt:1,sx:{display:"none"},children:(e=>{switch(e.status){case"allocated":return(0,j.jsx)(i.Z,{variant:"contained",color:"info",onClick:()=>k(e._id,"ongoing"),disabled:!0,children:"Move to Live"});case"ongoing":return(0,j.jsx)(i.Z,{variant:"contained",color:"warning",onClick:()=>k(e._id,"done"),disabled:!0,children:"Move to Done"});case"expired":return(0,j.jsx)(i.Z,{variant:"outlined",color:"error",disabled:!0,children:"Expired"});default:return null}})(Z)})]})]})]})]})]});var w}},1322:function(e,t,n){n.d(t,{$K:function(){return u},$g:function(){return O},AW:function(){return I},Au:function(){return d},BU:function(){return k},CE:function(){return Z},Dx:function(){return B},ES:function(){return J},Et:function(){return z},GB:function(){return m},Gu:function(){return c},IB:function(){return M},Jq:function(){return K},Jr:function(){return v},K3:function(){return h},KI:function(){return V},M$:function(){return U},Mg:function(){return X},Pe:function(){return p},Pw:function(){return T},Q1:function(){return j},RY:function(){return F},S1:function(){return q},T5:function(){return f},T7:function(){return P},Tj:function(){return _},VW:function(){return b},Wo:function(){return $},X2:function(){return Q},X6:function(){return y},Xy:function(){return N},a2:function(){return g},aZ:function(){return l},cW:function(){return L},cn:function(){return C},h8:function(){return D},jK:function(){return A},ji:function(){return o},kR:function(){return E},kl:function(){return x},lQ:function(){return a},oR:function(){return i},r7:function(){return s},ss:function(){return W},ut:function(){return w},uz:function(){return S},xF:function(){return R},zE:function(){return G}});const r=n(5662).Z.create({baseURL:"https://apis.fleetq.live/api/",headers:{"Content-Type":"application/json"}});async function a(e){return(await r.post("company",e)).data}async function i(e){return(await r.delete("company/"+e,e)).data}async function o(e,t){return(await r.patch("company/"+e,t)).data}async function s(e){return(await r.post("company/getAllCompany",e)).data}async function c(e){return(await r.post("truck",e)).data}async function l(e){return(await r.post("truck/getAllTruck",e)).data}async function d(e){return(await r.post("truck/updateTruckStatus",e)).data}async function u(e){return(await r.delete("truck/"+e,e)).data}async function h(e,t){return(await r.patch("truck/"+e,t)).data}async function m(e){return(await r.post("truck/updateTruckBookingStatus",e)).data}async function x(e){return(await r.post("truck/getAllTruckBookings",e)).data}async function p(e){return(await r.post("truck/addTruckToBooking",e)).data}async function g(e){return(await r.post("party/getAllParty",e)).data}async function j(e){return(await r.post("party",e)).data}async function f(e){return(await r.delete(`party/${e}`)).data}async function Z(e,t){return(await r.post(`party/${e}`,t)).data}async function y(e){return(await r.put(`party/updateStatus/${e}`)).data}async function v(e){return(await r.post("truck/getAllTruckBookings",{status:e.status})).data}async function b(e){return(await r.post("truck/getInQueueTrucks",e)).data}async function k(e){return(await r.post("truck/getTruckQueue",e)).data}async function w(e){return(await r.post("allocation/getAllocationDetails",e)).data}async function P(e){return(await r.post("allocation",e)).data}async function A(e){return(await r.post("allocation/changeAllocationStatus",e)).data}async function C(e){return(await r.post("user",e)).data}async function S(e){return(await r.post("user/editUser",e)).data}async function I(e){return(await r.get("user/getAllUsers"+(e?`?companyId=${e}`:""))).data}async function D(e){return(await r.delete(`user/${e}`)).data}async function O(e){const t=await r.post("user/login",e);return console.log(t),t.data}async function F(e){return(await r.post("location/getAllLocation",e)).data}async function B(e){return(await r.post("location",e)).data}async function N(e){return(await r.post("doBooking/getAllDO",e)).data}async function T(e){return(await r.post("allocation/get-All-AllocationDetails",e)).data}async function L(e){return(await r.post("doBooking",e)).data}async function E(e){return(await r.post("doBooking/uploadDO",e)).data}async function U(e,t){try{return(await r.put(`doBooking/updateDO/${e}`,t)).data}catch(n){throw console.error("Error updating delivery order:",n),n}}async function z(e,t){try{return(await r.post(`doBooking/cancelDO/${e}`,t)).data}catch(n){throw console.error("Error updating delivery order:",n),n}}async function W(e,t){try{return(await r.post(`doBooking/cancelDOBooking/${e}`,t)).data}catch(n){throw console.error("Error cancelling Do booking:",n),n}}async function R(e){try{return(await r.post(`doBooking/reopen-do-booking/${e}`)).data}catch(t){throw console.error("Error cancelling Do booking:",t),t}}async function M(e,t){try{return(await r.post(`allocation/cancel-allocated-booking/${e}`,t)).data}catch(n){throw console.error("Error cancelling Do booking:",n),n}}async function _(e){try{return(await r.post(`allocation/re-allocate-booking/${e}`)).data}catch(t){throw console.error("Error cancelling Do booking:",t),t}}async function q(e){return(await r.post("doBooking/getAllDeliveryOrders",e)).data}async function $(e){return(await r.delete("doBooking",e)).data}async function V(e){return(await r.delete("doBooking/deleteDeliveryOrder/"+e)).data}async function Q(e){return(await r.post("driver",e)).data}async function G(e){return(await r.post("driver/getAllDrivers",e)).data}async function K(e){return(await r.post("driver/getCompanyDrivers",e)).data}async function X(e){return(await r.delete("driver/"+e,e)).data}async function J(e,t){return(await r.patch("driver/"+e,t)).data}r.interceptors.request.use((async e=>{const t=localStorage.getItem("token");return t?e.headers.Authorization="Bearer "+t:console.warn("Token not found in localStorage"),e}),(e=>Promise.reject(e))),r.interceptors.response.use((e=>e),(e=>(e.response&&401===e.response.status&&(console.log("Unauthorized, logging out..."),localStorage.clear(),window.location.href="/login"),Promise.reject(e))))},7713:function(e,t,n){var r=n(421),a=n(7120);const i=(0,r.ZF)({apiKey:"AIzaSyCBwJaecXhomn4kYayf-XMwOVfBZZyvtZ8",authDomain:"container-management-e3afb.firebaseapp.com",projectId:"container-management-e3afb",storageBucket:"container-management-e3afb.appspot.com",messagingSenderId:"355036042666",appId:"1:355036042666:web:d26919044f6afc7be387d3"}),o=(0,a.cF)(i);t.Z=o},2835:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(7313),a=n(9019),i=n(1113),o=n(1095),s=n(7592),c=n(9860),l=n(9536),d=n(9088),u=n(3497),h=n(3428),m=n(3405),x=n(4488),p=n(6417);var g=()=>(0,p.jsx)(h.Z,{children:(0,p.jsx)(m.Z,{children:(0,p.jsxs)(a.ZP,{container:!0,direction:"column",children:[(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsxs)(a.ZP,{container:!0,justifyContent:"space-between",children:[(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(x.Z,{variant:"rectangular",width:44,height:44})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(x.Z,{variant:"rectangular",width:34,height:34})})]})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(x.Z,{variant:"rectangular",sx:{my:2},height:40})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(x.Z,{variant:"rectangular",height:30})})]})})}),j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR4nNXUTUtVURTG8VumYdAFrVE5KSQINJMoNBwJQtBACs2GWSSBiNTASUpC4QskGQ1Sy7KCkMoPUE77Xr/Y13XjENfj5XqF3PCwD/vl/Nez1t67UDj0DcM1qrlawHYNP/+GM9UCVmtwPft/AdAVOoez0XfljL/FFMYqqLcSoDVUTMWLvjVnfBE3cCWjLVzFM0zUJUV4FQF2YCUz/xFN9QCsRvRj/wBuJx0k4Bje/wWgP5QK2B59f874pwC8w3WMxncxA1lIB2O/Du7jZRT+At5gE5dwE0/rfg/sgKfDwdcDuWh2npOVMuALNmqpQWF3wBo6S4UOS7MxcRIPMI62ahxEvh9jCA2ZNM2UHZQAUajv6MNlfE5R5AFwF3O4iFv4EA47w/F2GfAaL+JGpkiexNOwgfMVlNb3RHrTmV/CNdzDSGZdyUExKv4bLVjGj4j0V8ztpvQknMZPTGIg7c3MP8raThE9x1E04g4e7nGalsN1E46H41N5GwYjj2tRuCN7AE5gPtavoztv/eFsfwCPiI96xTnUPwAAAABJRU5ErkJggg==",f=n(7715),Z=n(519),y=n(6362);const v=(0,s.ZP)(u.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.secondary.dark,color:"#fff",overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:t.palette.secondary[800],borderRadius:"50%",top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{content:'""',position:"absolute",width:210,height:210,background:t.palette.secondary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var b=e=>{let{isLoading:t,data:n}=e;const o=(0,c.Z)(),[s,u]=(0,r.useState)(n);return(0,r.useEffect)((()=>{u(n)}),[n,t]),(0,p.jsx)(p.Fragment,{children:t||!s?(0,p.jsx)(g,{}):(0,p.jsx)(v,{border:!1,content:!1,children:(0,p.jsx)(l.Z,{sx:{p:2.25},children:(0,p.jsxs)(a.ZP,{container:!0,direction:"column",children:[(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsxs)(a.ZP,{container:!0,justifyContent:"space-between",children:[(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(d.Z,{variant:"rounded",sx:{...o.typography.commonAvatar,...o.typography.largeAvatar,backgroundColor:o.palette.secondary[800],mt:1},children:(0,p.jsx)("img",{src:j,alt:"truck"})})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(Z.Z,{color:"secondary",badgeContent:s.truck.truckType+"FT",max:999,sx:{marginTop:1,marginRight:1.5},children:(0,p.jsx)(y.Z,{})})})]})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsxs)(a.ZP,{container:!0,alignItems:"center",children:[(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(i.Z,{sx:{fontSize:"2rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:s.truck.registrationNumber})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(d.Z,{sx:{cursor:"pointer",...o.typography.smallAvatar,backgroundColor:o.palette.secondary[200],color:o.palette.secondary.dark},children:(0,p.jsx)(f.Z,{fontSize:"inherit"})})})]})}),(0,p.jsxs)(a.ZP,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,p.jsxs)(a.ZP,{item:!0,children:[(0,p.jsxs)(i.Z,{sx:{fontSize:"1rem",fontWeight:500,color:o.palette.secondary[200]},children:["Category: ",s.truck.category]}),(0,p.jsxs)(i.Z,{sx:{fontSize:"1rem",fontWeight:500,color:o.palette.secondary[200]},children:["Date: ",new Date(s.availableFrom).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]}),(0,p.jsxs)(a.ZP,{item:!0,children:[(0,p.jsxs)(i.Z,{sx:{fontSize:"1rem",fontWeight:500,color:o.palette.secondary[200]},children:["Party: ",s.allocation.DOBookingId.partyId.name]}),(0,p.jsxs)(i.Z,{sx:{fontSize:"1rem",fontWeight:500,color:o.palette.secondary[200]},children:["Contact: ",s.allocation.DOBookingId.partyId.contactNumber]})]})]})]})})})})},k=n(7131),w=n(1689),P=n(3997),A=n(5842),C=n(9601),S=n(1405),I=n(9431);const D=(0,s.ZP)(u.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.secondary.dark,color:"#fff",overflow:"hidden",position:"relative","&:before":{content:'""',position:"absolute",width:210,height:210,background:t.palette.secondary[800],borderRadius:"50%",top:-125,right:-55,opacity:50,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var O=e=>{let{isLoading:t,data:n}=e;const s=(0,c.Z)(),[u,h]=(0,r.useState)(n);(0,r.useEffect)((()=>{h(n)}),[n,t]);const[m,x]=(0,r.useState)(null),[Z,y]=(0,r.useState)(!1);return(0,p.jsxs)(p.Fragment,{children:[t||!u?(0,p.jsx)(g,{}):(0,p.jsx)(D,{border:!1,content:!1,children:(0,p.jsx)(l.Z,{sx:{p:2.25},children:(0,p.jsxs)(a.ZP,{container:!0,direction:"column",children:[(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsxs)(a.ZP,{container:!0,justifyContent:"space-between",children:[(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(d.Z,{variant:"rounded",sx:{...s.typography.commonAvatar,...s.typography.largeAvatar,backgroundColor:s.palette.secondary[800],mt:1},children:(0,p.jsx)("img",{src:j,alt:"truck"})})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(I.ZP,{variant:"popover",popupId:"demo-popup-menu",children:e=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(k.Z,{...(0,I.vW)(e),sx:{color:"white"},"aria-label":"more",children:(0,p.jsx)(P.Z,{})}),(0,p.jsxs)(C.Z,{...(0,I.wK)(e),children:[(0,p.jsx)(S.Z,{onClick:e.close,children:"Update"}),(0,p.jsx)(S.Z,{onClick:e.close,children:"Cancel"})]})]})})})]})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsxs)(a.ZP,{container:!0,alignItems:"center",children:[(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(w.Z,{title:u.deliveryOrderId.name,arrow:!0,children:(0,p.jsx)(i.Z,{sx:{fontSize:"2rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:(v=u.deliveryOrderId.name,b=10,v.length>b?v.substring(0,b)+"...":v)})})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(d.Z,{sx:{cursor:"pointer",...s.typography.smallAvatar,backgroundColor:s.palette.secondary[200],color:s.palette.secondary.dark},children:(0,p.jsx)(f.Z,{fontSize:"inherit"})})})]})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(l.Z,{style:{display:"flex",justifyContent:"space-between"},children:(0,p.jsxs)(i.Z,{sx:{fontSize:"1rem",fontWeight:500},children:["uploaded date: ",new Date(u.deliveryOrderId.createdAt).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric"})]})})}),(0,p.jsx)(a.ZP,{item:!0,paddingTop:1,children:(0,p.jsxs)(l.Z,{style:{display:"flex",justifyContent:"space-between"},children:[(0,p.jsx)(o.Z,{variant:"contained",color:"secondary",onClick:()=>{return e=u._id,x(e),void y(!0);var e},children:"View Allocation"}),(0,p.jsx)(o.Z,{variant:"contained",color:"secondary",onClick:()=>window.open(u.deliveryOrderId.doLink),children:"Download Do"})]})})]})})}),m&&(0,p.jsx)(A.Z,{open:Z,close:()=>{x(null),refreshData(),y(!1)},doId:m})]});var v,b},F=n(2999);const B=(0,s.ZP)(u.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.primary.dark,color:"#fff",overflow:"hidden",position:"relative","&>div":{position:"relative",zIndex:5},"&:after":{content:'""',position:"absolute",width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",zIndex:1,top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{content:'""',position:"absolute",zIndex:1,width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var N=e=>{let{isLoading:t,data:n}=e;const o=(0,c.Z)(),[s,u]=(0,r.useState)(n);return(0,r.useEffect)((()=>{console.log(t),console.log(n),u(n)}),[n,t]),(0,p.jsx)(p.Fragment,{children:t||!s?(0,p.jsx)(g,{}):(0,p.jsx)(B,{border:!1,content:!1,children:(0,p.jsx)(l.Z,{sx:{p:2.25},children:(0,p.jsxs)(a.ZP,{container:!0,direction:"column",children:[(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsxs)(a.ZP,{container:!0,justifyContent:"space-between",children:[(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(d.Z,{variant:"rounded",sx:{...o.typography.commonAvatar,...o.typography.largeAvatar,backgroundColor:o.palette.primary[800],mt:1},children:(0,p.jsx)("img",{src:j,alt:"Notification"})})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(Z.Z,{color:"primary",badgeContent:s.truck.truckType+"FT",max:999,sx:{marginTop:1,marginRight:1.5}})})]})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsxs)(a.ZP,{container:!0,alignItems:"center",children:[(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(i.Z,{sx:{fontSize:"2rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:s.truck.registrationNumber})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(d.Z,{sx:{cursor:"pointer",...o.typography.smallAvatar,backgroundColor:o.palette.primary[200],color:o.palette.primary.dark},children:(0,p.jsx)(F.Z,{fontSize:"inherit"})})})]})}),(0,p.jsxs)(a.ZP,{item:!0,sx:{mb:1.25},children:[(0,p.jsxs)(i.Z,{sx:{fontSize:"1rem",fontWeight:500,color:o.palette.primary[200]},children:["Category: ",s.truck.category]}),(0,p.jsxs)(i.Z,{sx:{fontSize:"1rem",fontWeight:500,color:o.palette.primary[200]},children:["Type: ",s.truckType," Feet"]})]})]})})})})},T=n(2401),L=n(1322),E=n(1387);const U=(0,s.ZP)(u.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.primary.dark,color:"#fff",overflow:"hidden",position:"relative","&>div":{position:"relative",zIndex:5},"&:after":{content:'""',position:"absolute",width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",zIndex:1,top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{content:'""',position:"absolute",zIndex:1,width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var z=e=>{let{isLoading:t,data:n,update:s,handleCancel:u}=e;const h=(0,c.Z)(),[m,x]=(0,r.useState)(n),f="admin"===localStorage.getItem("role");(0,r.useEffect)((()=>{x(n)}),[n,t]);const Z=(e,t)=>e.length>t?e.substring(0,t)+"...":e,y=e=>{console.log("Update clicked"),s(e)},v=e=>{console.log(e),console.log(e._id),u(e._id,e.name)};return(0,p.jsx)(p.Fragment,{children:t||!m?(0,p.jsx)(g,{}):(0,p.jsx)(U,{border:!1,content:!1,children:(0,p.jsx)(l.Z,{sx:{p:2.25},children:(0,p.jsxs)(a.ZP,{container:!0,direction:"column",children:[(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsxs)(a.ZP,{container:!0,justifyContent:"space-between",children:[(0,p.jsx)(a.ZP,{item:!0,onClick:()=>{y(m)},children:(0,p.jsx)(d.Z,{variant:"rounded",sx:{...h.typography.commonAvatar,...h.typography.largeAvatar,backgroundColor:h.palette.primary[800],mt:1},children:(0,p.jsx)("img",{src:j,alt:"Notification"})})}),"rejected"!==m.status&&"cancelled"!==m.status&&(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(I.ZP,{variant:"popover",popupId:"demo-popup-menu",children:e=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(k.Z,{sx:{color:"white"},...(0,I.vW)(e),children:(0,p.jsx)(P.Z,{})}),(0,p.jsxs)(C.Z,{...(0,I.wK)(e),children:[(0,p.jsx)(S.Z,{onClick:()=>{y(m),e.close()},children:"Update"}),f?(0,p.jsx)(S.Z,{onClick:()=>{v(m),e.close()},children:"Reject"}):(0,p.jsx)(S.Z,{onClick:()=>{v(m),e.close()},children:"Cancel"})]})]})})})]})}),(0,p.jsx)(a.ZP,{item:!0,onClick:()=>{y(m)},children:(0,p.jsxs)(a.ZP,{container:!0,alignItems:"center",children:[(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(w.Z,{title:m.name,arrow:!0,children:(0,p.jsx)(i.Z,{sx:{fontSize:"2rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:Z(m.name,10)})})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(d.Z,{sx:{cursor:"pointer",...h.typography.smallAvatar,backgroundColor:h.palette.primary[200],color:h.palette.primary.dark},children:(0,p.jsx)(F.Z,{fontSize:"inherit"})})})]})}),(0,p.jsxs)(a.ZP,{item:!0,sx:{mb:1.25},children:[(0,p.jsxs)(l.Z,{style:{display:"flex",justifyContent:"space-between"},children:[(0,p.jsxs)(i.Z,{sx:{fontSize:"1rem",fontWeight:500},children:["Uploaded Date: ",m.uploadDate]}),(0,p.jsx)(o.Z,{variant:"contained",onClick:()=>window.open(m.link),children:"Download DO"})]}),(0,p.jsx)(l.Z,{children:(0,p.jsx)(w.Z,{title:m.fileName,arrow:!0,children:(0,p.jsxs)(i.Z,{sx:{fontSize:"1rem",fontWeight:300},children:["File Name: ",Z(m.fileName,20)]})})}),("cancelled"===m.status||"rejected"===m.status)&&(0,p.jsx)(l.Z,{children:(0,p.jsx)(w.Z,{title:m.cancelReason,arrow:!0,children:(0,p.jsxs)(i.Z,{sx:{fontSize:"1rem",fontWeight:300},children:["Reason: ",Z(m.cancelReason,20)]})})})]})]})})})})},W=n(2040),R=n(9214),M=n(5713);var _=()=>{const[e,t]=(0,r.useState)(!0),[n,s]=(0,r.useState)([]),[c,l]=(0,r.useState)([]),[d,u]=(0,r.useState)([]),[h,m]=(0,r.useState)([]),[x,g]=(0,r.useState)([]),[j,f]=(0,r.useState)([]),[Z,y]=(0,r.useState)([]),[v,k]=(0,r.useState)([]),[w,P]=(0,r.useState)({}),[A,C]=(0,r.useState)(!1),[S,I]=(0,r.useState)(null),[D,F]=(0,r.useState)(!1),B=e=>{P(e),$(!0),F(!0)},[U,_]=(0,r.useState)(""),[q,$]=(0,r.useState)(!1),V=()=>{(0,L.S1)({status:0}).then((e=>{const t=e.slice(0,6);m(t),m(e),console.log(e)})).catch((e=>{E.Am.error(e.response.data.msg)}))},Q=()=>{(0,L.Xy)({status:"allocated"}).then((e=>{u(e),console.log(e)})).catch((e=>{E.Am.error(e.response.data.msg)}))},G="admin"===localStorage.getItem("role");(0,r.useEffect)((()=>{let e=localStorage.getItem("role");_(localStorage.getItem("role")),"transporter"!==e&&"both"!==e||((0,L.Jr)({status:"ongoing"}).then((e=>{console.log(e),l(e)})).catch((e=>{E.Am.error(e.response.data.msg)})),(0,L.Jr)({status:"inqueue"}).then((e=>{console.log(e),s(e)})).catch((e=>{E.Am.error(e.response.data.msg)}))),"admin"!==e&&"forwarder"!==e||(V(),Q()),"forwarder"!==e&&"both"!==e||((0,L.S1)({status:1}).then((e=>{g(e),console.log(e)})).catch((e=>{E.Am.error(e.response.data.msg)})),(0,L.S1)({status:3}).then((e=>{f(e),console.log(e)})).catch((e=>{E.Am.error(e.response.data.msg)})),(0,L.S1)({status:5}).then((e=>{y(e),console.log(e)})).catch((e=>{E.Am.error(e.response.data.msg)})),(0,L.S1)({status:6}).then((e=>{k(e),console.log(e)})).catch((e=>{E.Am.error(e.response.data.msg)})),Q()),t(!1),console.log(U)}),[]);const K=(e,t)=>{I({id:e,name:t}),C(!0)};return(0,p.jsxs)("div",{style:{overflowX:"auto"},children:[(0,p.jsx)(R.Z,{data:w,open:D,upd:q,onClose:()=>{F(!1),V()}}),S&&(0,p.jsx)(M.Z,{open:A,handleClose:()=>{C(!1),I(null)},itemId:S.id,itemName:S.name,onConfirm:(e,t)=>{console.log(`Cancelled item with ID: ${e} for reason: ${t}`),(0,L.Et)(e,{cancelReason:t}).then((()=>{E.Am.success("Successfully cancelled "),V()})).catch((e=>{var t,n;E.Am.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to cancel the item")}))},formHeading:G?"reject":"cancel"}),(0,p.jsxs)(a.ZP,{container:!0,spacing:T.dv,children:["forwarder"===U||"both"===U?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,p.jsxs)(a.ZP,{container:!0,py:5,justifyContent:"space-between",alignItems:"center",children:[(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(i.Z,{variant:"h2",children:"Open"})}),(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(o.Z,{variant:"contained",startIcon:(0,p.jsx)(W.Z,{}),onClick:()=>{$(!1),F(!0)},sx:{backgroundColor:"primary.main"},children:"Upload DO"})})]}),(0,p.jsx)(a.ZP,{container:!0,spacing:T.dv,children:h&&h.length>0?h.map((t=>(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:(0,p.jsx)(z,{data:t,isLoading:e,handleCancel:K,update:B})},t._id))):(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:e?(0,p.jsx)(N,{data:[],isLoading:!0}):(0,p.jsx)(i.Z,{variant:"body1",children:"No Open DOs"})},1)})]}),(0,p.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,p.jsx)(a.ZP,{container:!0,py:5,justifyContent:"space-between",alignItems:"center",children:(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(i.Z,{variant:"h2",children:"Inqueue"})})}),(0,p.jsx)(a.ZP,{container:!0,spacing:T.dv,children:x&&x.length>0?x.map((t=>(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:(0,p.jsx)(z,{data:t,isLoading:e,handleCancel:K})},t._id))):(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:e?(0,p.jsx)(N,{data:[],isLoading:!0}):(0,p.jsx)(i.Z,{variant:"body1",children:"No Inqueue DOs"})},1)})]}),(0,p.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,p.jsx)(a.ZP,{py:4,children:(0,p.jsx)(i.Z,{variant:"h2",children:"Allocated"})}),(0,p.jsx)(a.ZP,{container:!0,spacing:T.dv,children:d&&d.length>0?d.map((t=>(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:(0,p.jsx)(O,{data:t,isLoading:e})},t._id))):(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:e?(0,p.jsx)(b,{data:[],isLoading:!0}):(0,p.jsx)(i.Z,{variant:"body1",children:"Currently No Allocated Do"})},1)})]}),(0,p.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,p.jsx)(a.ZP,{container:!0,py:5,justifyContent:"space-between",alignItems:"center",children:(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(i.Z,{variant:"h2",children:"Ongoing"})})}),(0,p.jsx)(a.ZP,{container:!0,spacing:T.dv,children:j&&j.length>0?j.map((t=>(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:(0,p.jsx)(z,{data:t,isLoading:e})},t._id))):(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:e?(0,p.jsx)(N,{data:[],isLoading:!0}):(0,p.jsx)(i.Z,{variant:"body1",children:"No Ongoing DOs"})},1)})]}),(0,p.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,p.jsx)(a.ZP,{container:!0,py:5,justifyContent:"space-between",alignItems:"center",children:(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(i.Z,{variant:"h2",children:"Rejected"})})}),(0,p.jsx)(a.ZP,{container:!0,spacing:T.dv,children:Z&&Z.length>0?Z.map((t=>(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:(0,p.jsx)(z,{data:t,isLoading:e})},t._id))):(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:e?(0,p.jsx)(N,{data:[],isLoading:!0}):(0,p.jsx)(i.Z,{variant:"body1",children:"No Rejected DOs"})},1)})]}),(0,p.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,p.jsx)(a.ZP,{container:!0,py:5,justifyContent:"space-between",alignItems:"center",children:(0,p.jsx)(a.ZP,{item:!0,children:(0,p.jsx)(i.Z,{variant:"h2",children:"Cancelled"})})}),(0,p.jsx)(a.ZP,{container:!0,spacing:T.dv,children:v&&v.length>0?v.map((t=>(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:(0,p.jsx)(z,{data:t,isLoading:e})},t._id))):(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:e?(0,p.jsx)(N,{data:[],isLoading:!0}):(0,p.jsx)(i.Z,{variant:"body1",children:"No Cancelled DOs"})},1)})]})]}):(0,p.jsx)(p.Fragment,{}),"transporter"===U||"both"===U?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,p.jsx)(a.ZP,{py:4,children:(0,p.jsx)(i.Z,{variant:"h2",children:"Ongoing"})}),(0,p.jsx)(a.ZP,{container:!0,spacing:T.dv,children:c&&c.length>0?c.map((t=>(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:(0,p.jsx)(b,{data:t,isLoading:e})},t._id))):(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:e?(0,p.jsx)(b,{data:[],isLoading:!0}):(0,p.jsx)(i.Z,{variant:"body1",children:"Currently No Ongoing Trucks"})},1)})]}),(0,p.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,p.jsx)(a.ZP,{py:3,children:(0,p.jsx)(i.Z,{variant:"h2",children:"In Queue"})}),(0,p.jsx)(a.ZP,{container:!0,spacing:T.dv,children:n&&n.length>0?n.map((t=>(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:(0,p.jsx)(N,{data:t,isLoading:e})},t.registrationNumber))):(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:e?(0,p.jsx)(N,{data:[],isLoading:!0}):(0,p.jsx)(i.Z,{variant:"body1",children:"Currently No Inqueue available"})},1)})]})]}):(0,p.jsx)(p.Fragment,{}),"admin"===U?(0,p.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,p.jsx)(a.ZP,{py:3,children:(0,p.jsx)(i.Z,{variant:"h2",children:"Open Dos"})}),(0,p.jsx)(a.ZP,{container:!0,spacing:T.dv,children:h&&h.length>0?h.map((t=>(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:(0,p.jsx)(z,{data:t,isLoading:e,handleCancel:K})},t._id))):(0,p.jsx)(a.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:e?(0,p.jsx)(N,{data:[],isLoading:!0}):(0,p.jsx)(i.Z,{variant:"body1",children:"No Open Dos"})},1)})]}):(0,p.jsx)(p.Fragment,{})]})]})}},9214:function(e,t,n){n.d(t,{Z:function(){return P}});var r=n(7313),a=n(1095),i=n(4469),o=n(4117),s=n(6467),c=n(7762),l=n(3604),d=n(7713),u=n(7131),h=n(4631),m=n(1405),x=n(5627),p=n(1322),g=n(1387),j=n(9176),f=n(1113),Z=n(7120),y=n(8586),v=n(9818),b=n(8372),k=n(2549),w=n(6417);function P(e){var t,n,j,P,C;const[S,I]=r.useState(!1),[D,O]=r.useState(null),[F,B]=r.useState(null),[N,T]=r.useState(0),[L,E]=r.useState(0),[U,z]=r.useState(!1),W=(new Date).toISOString().split("T")[0],[R,M]=r.useState(W),{register:_,handleSubmit:q,setValue:$,formState:{errors:V}}=(0,x.cI)({defaultValues:{name:(null===(t=e.data)||void 0===t?void 0:t.name)||"",location:(null===(n=e.data)||void 0===n?void 0:n.location)||"",selectData:(null===(j=e.data)||void 0===j?void 0:j.selectData)||"20",dateAvailableFrom:(null===(P=e.data)||void 0===P?void 0:P.dateAvailableFrom)||W,numberOfOrders:(null===(C=e.data)||void 0===C?void 0:C.numberOfOrders)||1}}),Q=()=>{e.onClose(),B(null),O(null),I(!1)};r.useEffect((()=>{I(e.open)}),[e.open]),r.useEffect((()=>{e.upd?($("name",e.data.name||""),$("location",e.data.location||""),$("selectData",e.data.selectData||"20"),$("numberOfOrders",e.data.numberOfOrders||1),M(e.data.dateAvailableFrom||W)):($("name",""),$("location",""),$("selectData","20"),$("numberOfOrders",1),M(W),O(null))}),[e]);const G=async(t,n,r,a,i)=>{const o=`${n}-${(0,k.Z)()}`,s=(0,Z.iH)(d.Z,`/DoBookings/${o}`),c=(0,Z.B0)(s,t);return new Promise(((s,l)=>{c.on("state_changed",(e=>{const t=Math.round(e.bytesTransferred/e.totalBytes*100);B(t)}),(e=>l(e)),(()=>{(0,Z.Jt)(c.snapshot.ref).then((c=>{e.upd?(0,p.M$)(e.data._id,{doLink:c,name:n,location:r,uniqueName:o,fileName:t.name,availableFrom:a,type:i}).then((()=>{s()})).catch((e=>{l(e)})):(0,p.kR)({doLink:c,name:n,location:r,uniqueName:o,fileName:t.name,availableFrom:a,type:i}).then((()=>{s()})).catch((e=>{l(e)}))}))}))}))},K=()=>{if(e.upd&&!D&&e.data.doLink)window.open(e.data.doLink,"_blank");else if(D){const e=URL.createObjectURL(D);window.open(e,"_blank")}};return(0,w.jsx)(r.Fragment,{children:(0,w.jsx)(i.Z,{fullWidth:!0,maxWidth:"sm",open:S,onClose:Q,children:(0,w.jsxs)("form",{onSubmit:q((async t=>{const{name:n,dateAvailableFrom:r,selectData:a,location:i,numberOfOrders:o}=t;if(D||e.upd){if(z(!0),E(parseInt(o)),T(0),e.upd)if(D)try{await G(D,n,i,r,a),g.Am.success("DO updated successfully!")}catch(m){var s,c;console.log(m),g.Am.error((null===(s=m.response)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.message)||"Failed to upload file")}else try{await(0,p.M$)(e.data._id,{name:n,location:i,availableFrom:r,type:a,numberOfOrders:o}),g.Am.success("DO updated successfully!")}catch(m){var l,d;console.log(m),g.Am.error((null===(l=m.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.message)||"Failed to update DO")}else try{for(let e=0;e<parseInt(o);e++)T(e+1),g.Am.info(`Uploading file ${e+1} of ${o}...`,{autoClose:2e3}),await G(D,n,i,r,a);g.Am.success(`${o} delivery orders uploaded successfully!`)}catch(m){var u,h;console.log(m),g.Am.error((null===(u=m.response)||void 0===u||null===(h=u.data)||void 0===h?void 0:h.message)||"Failed to upload file")}z(!1),Q()}else g.Am.error("Please choose a file to upload")})),children:[(0,w.jsxs)(l.Z,{children:[e.upd?"Update DO":"Upload DO",(0,w.jsx)(u.Z,{"aria-label":"close",onClick:Q,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,w.jsx)(y.Z,{})})]}),(0,w.jsxs)(s.Z,{children:[(0,w.jsx)(c.Z,{children:"Upload Delivery Orders."}),(0,w.jsx)(h.Z,{label:"Name",variant:"outlined",fullWidth:!0,margin:"normal",..._("name",{required:!0}),error:!!V.name,helperText:V.name?"Name is required":""}),(0,w.jsx)(h.Z,{label:"Location",variant:"outlined",fullWidth:!0,margin:"normal",..._("location",{required:!0}),error:!!V.location,helperText:V.location?"Location is required":""}),(0,w.jsxs)(h.Z,{select:!0,label:"Select Truck Type",fullWidth:!0,margin:"normal",..._("selectData",{required:!0}),onChange:e=>$("selectData",e.target.value),error:!!V.selectData,helperText:V.selectData?"Select data is required":"",defaultValue:"20",children:[(0,w.jsx)(m.Z,{value:"20",children:"20"}),(0,w.jsx)(m.Z,{value:"40",children:"40"})]}),(0,w.jsx)(h.Z,{label:"Date Available From",type:"date",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:R,onChange:e=>M(e.target.value),..._("dateAvailableFrom",{required:!0}),error:!!V.dateAvailableFrom,helperText:V.dateAvailableFrom?"Date is required":"",min:W}),!e.upd&&(0,w.jsx)(h.Z,{label:"Number of Orders",type:"number",fullWidth:!0,margin:"normal",InputProps:{inputProps:{min:1}},..._("numberOfOrders",{required:!0,min:{value:1,message:"Minimum 1 order required"},validate:e=>parseInt(e)>0||"Must be a positive number"}),error:!!V.numberOfOrders,helperText:V.numberOfOrders?V.numberOfOrders.message||"Number of orders is required":""}),(0,w.jsx)("input",{accept:"image/*,.pdf",style:{display:"none"},id:"file-upload",type:"file",onChange:e=>{const t=e.target.files[0];t&&O(t)}}),e.upd&&!D&&e.data.fileName&&(0,w.jsxs)(b.Z,{mt:2,mb:2,children:[(0,w.jsxs)(f.Z,{variant:"body1",children:["Current File: ",e.data.fileName]}),(0,w.jsx)(a.Z,{variant:"contained",color:"primary",onClick:K,sx:{mt:1},children:"Preview Existing File"})]}),D&&(0,w.jsxs)(b.Z,{mt:2,mb:2,children:[(0,w.jsxs)(f.Z,{variant:"body1",children:[e.upd?"New File: ":"Selected File: ",D.name]}),(0,w.jsx)(a.Z,{variant:"contained",color:"primary",onClick:K,sx:{mt:1},children:"Preview File"})]}),(0,w.jsxs)("label",{htmlFor:"file-upload",children:[(0,w.jsx)(b.Z,{display:"flex",justifyContent:"center",alignItems:"center",height:150,sx:{border:"1px dashed grey",cursor:"pointer",marginTop:2,backgroundColor:D?"#f0f8ff":"transparent"},children:(0,w.jsx)(v.Z,{style:{fontSize:100}})}),(0,w.jsx)(f.Z,{variant:"h6",align:"center",sx:{marginTop:1,marginBottom:1},children:e.upd?"Upload New File":"Upload File"})]}),null!==F&&(0,w.jsxs)(b.Z,{sx:{width:"100%",marginTop:2},children:[(0,w.jsx)(A,{value:F}),U&&!e.upd&&(0,w.jsxs)(f.Z,{variant:"body2",align:"center",sx:{mt:1},children:["Uploading file ",N," of ",L]})]})]}),(0,w.jsxs)(o.Z,{children:[(0,w.jsx)(a.Z,{onClick:Q,color:"secondary",variant:"outlined",disabled:U,children:"Cancel"}),(0,w.jsx)(a.Z,{variant:"contained",type:"submit",disabled:U,children:U?"Uploading...":"Submit"})]})]})})})}function A(e){return(0,w.jsxs)(b.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,w.jsx)(b.Z,{sx:{width:"100%",mr:1},children:(0,w.jsx)(j.Z,{variant:"determinate",...e})}),(0,w.jsx)(b.Z,{sx:{minWidth:35},children:(0,w.jsx)(f.Z,{variant:"body2",color:"text.secondary",children:`${Math.round(e.value)}%`})})]})}},5713:function(e,t,n){var r=n(7313),a=n(4469),i=n(3604),o=n(6467),s=n(1113),c=n(4631),l=n(4117),d=n(1095),u=n(6417);t.Z=e=>{let{open:t,handleClose:n,itemId:h,itemName:m,onConfirm:x,formHeading:p="cancel"}=e;const[g,j]=(0,r.useState)("");return(0,u.jsxs)(a.Z,{open:t,onClose:n,children:[(0,u.jsxs)(i.Z,{children:[p," Item"]}),(0,u.jsxs)(o.Z,{children:[(0,u.jsxs)(s.Z,{children:["   Are you sure you want to ",p," the order for ",(0,u.jsx)("strong",{children:m}),"?"]}),(0,u.jsx)(c.Z,{autoFocus:!0,margin:"dense",label:" Reason",type:"text",fullWidth:!0,variant:"outlined",value:g,onChange:e=>j(e.target.value)})]}),(0,u.jsxs)(l.Z,{children:[(0,u.jsx)(d.Z,{onClick:n,color:"primary",children:"back"}),(0,u.jsxs)(d.Z,{onClick:()=>{""!==g.trim()?(x(h,g),n()):alert("Please provide a reason for cancellation.")},color:"error",children:["Confirm ",p]})]})]})}}}]);