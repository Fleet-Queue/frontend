"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[405],{2186:function(e,n,r){r.d(n,{Z:function(){return h}});var t=r(3365),a=r(4469),i=r(3604),l=r(2832),s=r(1113),o=r(7313),c=r(1766),d=r(6417);const u=o.forwardRef((function(e,n){return(0,d.jsx)(t.Z,{ref:n,...e})}));function h(e){let{title:n,children:r,open:t,onClose:o,...h}=e;return(0,d.jsxs)(a.Z,{...h,open:t,TransitionComponent:u,children:[(0,d.jsx)(i.Z,{children:(0,d.jsxs)(l.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsx)(s.Z,{variant:"h2",color:"primary.main",children:n}),(0,d.jsx)(c.Z,{sx:{cursor:"pointer"},onClick:o})]})}),r]})}},5266:function(e,n,r){r.d(n,{h:function(){return i}});var t=r(6031),a=r.n(t);const i=(e,n,r)=>e.map((e=>a().mapKeys(e,((e,t)=>{for(let a=0;a<r.length;a++)if(t===n[a])return r[a];return t}))))},8405:function(e,n,r){r.r(n),r.d(n,{default:function(){return P}});var t=r(7313),a=r(2832),i=r(8999),l=r(5266),s=r(9536),o=r(9019),c=r(4631),d=r(1550),u=r(3306),h=r(8797),m=r(1405),x=r(1387),p=r(7825),j=r(1113),g=r(5480),Z=r(3929),f=r(24),y=r(1095),v=r(5627),C=r(2186),b=r(6417);function k(e){let{getLocation:n,addLocation:r,open:i,onClose:l,isEdit:s=!1,data:o={}}=e;const[k,T]=t.useState(!1),{control:A,handleSubmit:S,formState:{errors:w}}=(0,v.cI)({defaultValues:s?o.Name:""});return(0,t.useEffect)((()=>{}),[]),(0,b.jsx)(C.Z,{open:i,fullWidth:!0,onClose:()=>{l()},title:(s?"Edit":"Add")+" Truck",children:(0,b.jsx)("form",{onSubmit:S((e=>{console.log(e),r({name:e.name,kilometer:e.kilometer,tripType:e.tripType,isHighRangeArea:k}).then((e=>{console.log(e),x.Am.success("Location Added Successfully"),n(),l()})).catch((e=>{console.error(e),x.Am.error(e.response.data.message)}))})),children:(0,b.jsx)(p.Z,{children:(0,b.jsxs)(a.Z,{direction:"column",sx:{p:2},spacing:1,children:[(0,b.jsx)(j.Z,{variant:"h5",children:"Location Name"}),(0,b.jsx)(v.Qr,{name:"name",control:A,render:e=>{let{field:n}=e;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Z,{...n,placeholder:"Enter Location Name"}),w.name&&(0,b.jsx)("span",{style:{color:"#f00"},children:w.name.message})]})},rules:{required:"Location Name is required"}}),(0,b.jsx)(j.Z,{variant:"h5",children:"Kilometer"}),(0,b.jsx)(v.Qr,{name:"kilometer",control:A,render:e=>{let{field:n}=e;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Z,{...n,placeholder:"Enter Kilometer from terminal"}),w.kilometer&&(0,b.jsx)("span",{style:{color:"#f00"},children:w.kilometer.message})]})},rules:{required:"kilometer is required"}}),(0,b.jsx)(j.Z,{variant:"h5",children:"Trip Type"}),(0,b.jsxs)(d.Z,{error:Boolean(w.tripType),children:[(0,b.jsx)(u.Z,{id:"type-select-label",children:"Trip Type"}),(0,b.jsx)(v.Qr,{name:"tripType",control:A,render:e=>{let{field:n}=e;return(0,b.jsxs)(h.Z,{...n,labelId:"type-select-label",id:"type-select",label:"triptype",value:n.value||"",onChange:e=>n.onChange(e.target.value),children:[(0,b.jsx)(m.Z,{value:"",children:(0,b.jsx)("em",{children:"None"})}),"nationalPermit long medium local",(0,b.jsx)(m.Z,{value:"local",children:"local "},"local"),(0,b.jsx)(m.Z,{value:"medium",children:"medium "},"medium"),(0,b.jsx)(m.Z,{value:"long",children:"long "},"long"),(0,b.jsx)(m.Z,{value:"nationalPermit",children:"nationalPermit "},"nationalPermit")]})},rules:{required:"Trip Type is required"}}),w.triptype&&(0,b.jsx)(g.Z,{children:w.triptype.message})]}),(0,b.jsx)(d.Z,{children:(0,b.jsx)(Z.Z,{sx:{mt:1},control:(0,b.jsx)(f.Z,{checked:k,onChange:()=>T(!k)}),label:"Is HighRange"})}),(0,b.jsx)(y.Z,{variant:"contained",type:"submit",sx:{width:"150px"},children:"Add"})]})})})})}const T=["name","kilometer","isHighRangeArea","tripType"];function A(e){let{data:n,deleteAd:r,updateData:a}=e;const[p,j]=(0,t.useState)(!1),[g,Z]=(0,t.useState)(),[f,y]=(0,t.useState)(""),[v,C]=(0,t.useState)(""),A=n.filter((e=>{const n=e.name.toLowerCase().includes(f.toLowerCase()),r=!v||e.tripType===v;return n&&r})),S=(0,l.h)(A,["name","kilometer","isHighRangeArea","tripType"],T);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.Z,{sx:{mb:2},children:(0,b.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,b.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,b.jsx)(c.Z,{label:"Search by Name",variant:"outlined",size:"small",fullWidth:!0,value:f,onChange:e=>y(e.target.value)})}),(0,b.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,b.jsxs)(d.Z,{fullWidth:!0,size:"small",children:[(0,b.jsx)(u.Z,{children:"Trip Type"}),(0,b.jsxs)(h.Z,{value:v,label:"Trip Type",onChange:e=>C(e.target.value),children:[(0,b.jsx)(m.Z,{value:"",children:"All"}),["medium","local","long","nationalPermit"].map((e=>(0,b.jsx)(m.Z,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))]})]})})]})}),(0,b.jsx)(k,{open:p,onClose:()=>{j(!1)},data:g,isEdit:!0}),(0,b.jsx)(i.Z,{data:S,header:T,isShowSerialNo:!0,isShowAction:!0,actions:["delete"],onActionChange:e=>{console.log(e),"delete"==e.action?(console.log(e.data._id),Z(e.data),r(e.data._id).then((()=>{})).catch((e=>{console.error(e),x.Am.error(e.response.data.message)}))):Z(),a()}})]})}var S=r(2040),w=r(3497);function L(e){let{buttonClick:n}=e;return(0,b.jsx)(w.Z,{children:(0,b.jsxs)(a.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsx)(j.Z,{variant:"h3",color:"secondary.main",children:"Manage Locations"}),(0,b.jsx)(y.Z,{variant:"contained",startIcon:(0,b.jsx)(S.Z,{}),sx:{backgroundColor:"secondary.main"},onClick:n,children:"Add Locations"})]})})}var _=r(1322);function P(){const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)([]),l=async()=>{try{const e=await(0,_.RY)();i(e)}catch(e){console.log(e)}};return(0,t.useEffect)((()=>{l()}),[]),(0,b.jsxs)(a.Z,{direction:"column",gap:2,children:[(0,b.jsx)(k,{open:e,addLocation:_.Dx,getLocation:l,onClose:()=>n(!1)}),(0,b.jsx)(L,{buttonClick:()=>n(!0)}),(0,b.jsx)(A,{data:r,updateData:l})]})}}}]);