"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[696],{8999:function(e,a,n){n.d(a,{Z:function(){return j}});var t=n(7313),r=n(3497),c=n(1629),o=n(6835),s=n(3477),i=n(4076),l=n(7478),d=n(3467),f=n(1095),u=n(9848),h=n(6167),p=n(5842),x=n(6417);function j(e){let{data:a,header:n,isShowSerialNo:j=!1,isShowAction:Z=!1,actions:y=["Edit","Delete"],onActionChange:g,onClickAction:m,refreshData:A}=e;const[C,I]=(0,t.useState)(null),[k,v]=(0,t.useState)(null),[S,w]=(0,t.useState)(null),[_,O]=(0,t.useState)(null),[b,D]=(0,t.useState)(!1);return(0,x.jsxs)(r.Z,{children:[(0,x.jsx)(c.Z,{children:(0,x.jsxs)(o.Z,{children:[(0,x.jsx)(s.Z,{children:(0,x.jsxs)(i.Z,{children:[j&&(0,x.jsx)(l.Z,{sx:{color:"primary.main"},children:"SLNO"}),n.map(((e,a)=>(0,x.jsx)(l.Z,{sx:{color:"primary.main"},children:e},a))),Z&&(0,x.jsx)(l.Z,{sx:{color:"primary.main"},children:"Action"})]})}),(0,x.jsx)(d.Z,{children:a.map(((e,a)=>(0,x.jsxs)(i.Z,{onClick:()=>(e=>{m&&m(e)})(e._id),children:[j&&(0,x.jsx)(l.Z,{children:a+1}),n.map(((a,n)=>{if("IMAGE"===a.toUpperCase())return(0,x.jsx)(l.Z,{children:(0,x.jsx)("img",{style:{height:"100px"},src:`${e[`${a}`]}`,alt:"img"})},n);if("allocated"!=e.status&&"ALLOCATION"===a.toUpperCase())return console.log("dfffffffffffffffffffffffffffffffffffff"),console.log(e),(0,x.jsx)(l.Z,{children:(0,x.jsx)(f.Z,{variant:"contained",onClick:()=>(e=>{console.log("select alloccccccccccccccccccccccc"),console.log(e),console.log("heeeeeeeeeeeeeeeeeeeeeeedataaaaaaaaaaaaaaaa"),I(e.truckType),v(e.date),O(e.doId),console.log(e.truckType),D(!0)})({doId:e._id,truckType:e.truckType,date:e["available from"]}),children:"Allocate"})},n);if("allocated"==e.status&&"ALLOCATION"===a.toUpperCase())return(0,x.jsx)(l.Z,{children:(0,x.jsx)(f.Z,{variant:"contained",onClick:()=>{return a=e._id,w(a),void D(!0);var a},children:"View Allocation"})},n);if("VIEW DO"===a.toUpperCase()){const a=e["view DO"]||e.deliveryOrderId&&e.deliveryOrderId.doLink;return a?(0,x.jsx)(l.Z,{children:(0,x.jsx)(f.Z,{variant:"contained",onClick:()=>window.open(a,"_blank"),children:"View File"})},n):(0,x.jsx)(l.Z,{children:(0,x.jsx)(f.Z,{variant:"contained",disabled:!0,children:"No File"})},n)}return"isHighRangeArea"!=e.status&&"ISHIGHRANGEAREA"===a.toUpperCase()?(0,x.jsx)(l.Z,{children:e[`${a}`]?"Yes":"No"},n):"STATUS"===a.toUpperCase()?(0,x.jsx)(l.Z,{children:e[`${a}`]?"Active":"Inactive"},n):(0,x.jsx)(l.Z,{children:e[`${a}`]},n)})),Z&&(0,x.jsx)(l.Z,{children:(0,x.jsx)(u.Z,{data:e,onActionChange:e=>{g(e)},actions:y})})]},a)))})]})}),C&&(0,x.jsx)(h.Z,{open:b,close:()=>{I(null),console.log("heeeeeeeeeeeeeeeeeeeeeeeey"),A(),D(!1)},doId:_,date:k,type:C}),S&&(0,x.jsx)(p.Z,{open:b,close:()=>{w(null),A(),D(!1)},doId:S})]})}},16:function(e,a,n){n.r(a),n.d(a,{default:function(){return j}});var t=n(7313),r=n(7890),c=n(2832),o=n(8999),s=n(5266),i=n(1387),l=n(1322),d=n(6417);const f=["DO number","truckType","rate","availableFrom","status","reason","View DO"];function u(e){let{partyId:a,data:n,updateData:r}=e;const[c,u]=(0,t.useState)(),h=(0,s.h)(n,["doNumber","truckType","rate","availableFrom","status","reason"],f);return console.log(c),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(o.Z,{data:h,header:f,isShowSerialNo:!0,isShowAction:!1,actions:[""],onActionChange:e=>{console.log(e),"delete"==e.action?(console.log(e.data._id),u(e.data),(0,l.Wo)(e.data._id).then((()=>{})).catch((e=>{console.error(e),i.Am.error(e.response.data.message)}))):u(),r(a)},refreshData:()=>{r()}})})}var h=n(1113),p=n(3497);function x(){return(0,d.jsx)(p.Z,{children:(0,d.jsx)(c.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:(0,d.jsx)(h.Z,{variant:"h3",color:"secondary.main",children:"Cancelled DO Bookings"})})})}function j(){const[e,a]=(0,t.useState)([]);let{partyId:n}=(0,r.UO)();const o=async e=>{try{let n={status:"cancelled"};e&&(n.partyId=e);const t=await(0,l.Xy)(n);a(t)}catch(n){console.log(n)}};return(0,t.useEffect)((()=>{o(n)}),[]),(0,d.jsxs)(c.Z,{direction:"column",gap:2,children:[(0,d.jsx)(x,{partyId:n}),(0,d.jsx)(u,{partyId:n,data:e,updateData:o})]})}}}]);