"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[802],{2186:function(e,n,r){r.d(n,{Z:function(){return h}});var t=r(3365),a=r(4469),o=r(3604),s=r(2832),c=r(1113),l=r(7313),i=r(1766),d=r(6417);const u=l.forwardRef((function(e,n){return(0,d.jsx)(t.Z,{ref:n,...e})}));function h(e){let{title:n,children:r,open:t,onClose:l,...h}=e;return(0,d.jsxs)(a.Z,{...h,open:t,TransitionComponent:u,children:[(0,d.jsx)(o.Z,{children:(0,d.jsxs)(s.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsx)(c.Z,{variant:"h2",color:"primary.main",children:n}),(0,d.jsx)(i.Z,{sx:{cursor:"pointer"},onClick:l})]})}),r]})}},6802:function(e,n,r){r.r(n),r.d(n,{default:function(){return _}});var t=r(7313),a=r(2832),o=r(8999),s=r(5266),c=r(7825),l=r(1113),i=r(4631),d=r(1550),u=r(3306),h=r(4256),m=r(1405),x=r(5480),j=r(3929),g=r(24),f=r(1095),p=r(5627),Z=r(1387),b=r(2186),y=r(1322),C=r(6417);function v(e){let{getParty:n,open:r,onClose:o,isEdit:s=!1,data:v={}}=e;const[P,N]=(0,t.useState)([]),[S,w]=(0,t.useState)(!1),{control:A,handleSubmit:k,formState:{errors:_}}=(0,p.cI)({defaultValues:s?v.Name:""});return(0,t.useEffect)((()=>{(0,y.RY)().then((e=>{console.log(e),N(e)})).catch((e=>{console.log(e)}))}),[]),(0,C.jsx)(b.Z,{open:r,fullWidth:!0,onClose:()=>{o()},title:(s?"Edit":"Add")+" Party",children:(0,C.jsx)("form",{onSubmit:k((e=>{console.log(e),(0,y.Q1)({name:e.name,address:e.address,locationId:e.location,contactPerson:e.contactPerson,contactNumber:e.contactNumber,isTrailerAllowed:S}).then((e=>{console.log(e),n(),o()})).catch((e=>{console.error(e),Z.Am.error(e)}))})),children:(0,C.jsx)(c.Z,{children:(0,C.jsxs)(a.Z,{direction:"column",sx:{p:2},spacing:1,children:[(0,C.jsx)(l.Z,{variant:"h5",children:"Party Name"}),(0,C.jsx)(p.Qr,{name:"name",control:A,render:e=>{let{field:n}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(i.Z,{...n,placeholder:"Enter Party Name"}),_.name&&(0,C.jsx)("span",{style:{color:"#f00"},children:_.name.message})]})},rules:{required:"Party Name is required"}}),(0,C.jsx)(l.Z,{variant:"h5",children:"Address"}),(0,C.jsx)(p.Qr,{name:"address",control:A,render:e=>{let{field:n}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(i.Z,{...n,placeholder:"Enter party address"}),_.address&&(0,C.jsx)("span",{style:{color:"#f00"},children:_.address.message})]})},rules:{required:"Address is required"}}),(0,C.jsx)(l.Z,{variant:"h5",children:"Contact Person Name"}),(0,C.jsx)(p.Qr,{name:"contactPerson",control:A,render:e=>{let{field:n}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(i.Z,{...n,placeholder:"Enter contact person name"}),_.contactPerson&&(0,C.jsx)("span",{style:{color:"#f00"},children:_.contactPerson.message})]})},rules:{required:"contactPerson name is required"}}),(0,C.jsx)(l.Z,{variant:"h5",children:"contact Number"}),(0,C.jsx)(p.Qr,{name:"contactNumber",control:A,render:e=>{let{field:n}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(i.Z,{...n,placeholder:"Enter contact number"}),_.contactNumber&&(0,C.jsx)("span",{style:{color:"#f00"},children:_.contactNumber.message})]})},rules:{required:"contactNumber is required"}}),(0,C.jsxs)(d.Z,{error:Boolean(_.location),children:[(0,C.jsx)(u.Z,{id:"type-select-label",children:"Location"}),(0,C.jsx)(p.Qr,{name:"location",control:A,render:e=>{let{field:n}=e;return(0,C.jsxs)(h.Z,{...n,labelId:"type-select-label",id:"type-select",label:"location",value:n.value||"",onChange:e=>n.onChange(e.target.value),children:[(0,C.jsx)(m.Z,{value:"",children:(0,C.jsx)("em",{children:"None"})}),P.map((e=>(0,C.jsxs)(m.Z,{value:e._id,children:[e.name," "]},e._id)))]})},rules:{required:"Location is required"}}),_.location&&(0,C.jsx)(x.Z,{children:_.location.message})]}),(0,C.jsx)(d.Z,{children:(0,C.jsx)(j.Z,{sx:{mt:1},control:(0,C.jsx)(g.Z,{checked:S,onChange:()=>w(!S)}),label:"Is TrailerAllowed"})}),(0,C.jsx)(f.Z,{variant:"contained",type:"submit",sx:{width:"150px"},children:"Add"})]})})})})}const P=["name","address","contactPerson","contactNumber"];function N(e){let{data:n,deleteAd:r,updateData:a,navigation:c}=e;const[l,i]=(0,t.useState)(!1),[d,u]=(0,t.useState)(),h=(0,s.h)(n,["name","address","contactPerson","contactNumber"],P);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(v,{open:l,onClose:()=>{i(!1)},data:d,isEdit:!0}),(0,C.jsx)(o.Z,{onClickAction:c,data:h,header:P,isShowSerialNo:!0,isShowAction:!0,actions:["delete","Edit","UpdateStatus"],onActionChange:e=>{console.log(e),"delete"==e.action?(console.log(e.data._id),u(e.data),r(e.data._id).then((()=>{})).catch((e=>{console.error(e),Z.Am.error(e.response.data.message)}))):u(),a()}})]})}var S=r(2040),w=r(3497);function A(e){let{buttonClick:n}=e;const r="both"===localStorage.getItem("role")||"forwarder"===localStorage.getItem("role");return(0,C.jsx)(w.Z,{children:(0,C.jsxs)(a.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,C.jsx)(l.Z,{variant:"h3",color:"secondary.main",children:"Manage Parties"}),r&&(0,C.jsx)(f.Z,{variant:"contained",startIcon:(0,C.jsx)(S.Z,{}),sx:{backgroundColor:"secondary.main"},onClick:n,children:"Add Parties"})]})})}var k=r(7890);function _(){const[e,n]=(0,t.useState)(!1),[r,o]=(0,t.useState)([]),s=(0,k.s0)(),c=async()=>{try{const e=await(0,y.a2)();o(e)}catch(e){console.log(e)}};(0,t.useEffect)((()=>{c()}),[]);return(0,C.jsxs)(a.Z,{direction:"column",gap:2,children:[(0,C.jsx)(v,{open:e,getParty:c,onClose:()=>n(!1)}),(0,C.jsx)(A,{buttonClick:()=>n(!0)}),(0,C.jsx)(N,{navigation:async e=>{console.log(e),s("/doBooking/"+e)},data:r,updateData:c})]})}}}]);