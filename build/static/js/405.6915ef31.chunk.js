"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[405],{2186:function(e,n,r){r.d(n,{Z:function(){return h}});var t=r(3365),a=r(4469),i=r(3604),l=r(2832),o=r(1113),s=r(7313),c=r(1766),d=r(6417);const u=s.forwardRef((function(e,n){return(0,d.jsx)(t.Z,{ref:n,...e})}));function h(e){let{title:n,children:r,open:t,onClose:s,...h}=e;return(0,d.jsxs)(a.Z,{...h,open:t,TransitionComponent:u,children:[(0,d.jsx)(i.Z,{children:(0,d.jsxs)(l.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsx)(o.Z,{variant:"h2",color:"primary.main",children:n}),(0,d.jsx)(c.Z,{sx:{cursor:"pointer"},onClick:s})]})}),r]})}},8999:function(e,n,r){r.d(n,{Z:function(){return f}});var t=r(7313),a=r(3497),i=r(1629),l=r(6835),o=r(3477),s=r(4076),c=r(7478),d=r(3467),u=r(1095),h=r(9848),x=r(6167),m=r(5842),p=r(6417);function f(e){let{data:n,header:r,isShowSerialNo:f=!1,isShowAction:j=!1,actions:Z=["Edit","Delete"],onActionChange:g,onClickAction:y,refreshData:v}=e;const[C,A]=(0,t.useState)(null),[k,S]=(0,t.useState)(null),[T,b]=(0,t.useState)(null),[w,I]=(0,t.useState)(null),[L,N]=(0,t.useState)(!1);return(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(i.Z,{children:(0,p.jsxs)(l.Z,{children:[(0,p.jsx)(o.Z,{children:(0,p.jsxs)(s.Z,{children:[f&&(0,p.jsx)(c.Z,{sx:{color:"primary.main"},children:"SLNO"}),r.map(((e,n)=>(0,p.jsx)(c.Z,{sx:{color:"primary.main"},children:e},n))),j&&(0,p.jsx)(c.Z,{sx:{color:"primary.main"},children:"Action"})]})}),(0,p.jsx)(d.Z,{children:n.map(((e,n)=>(0,p.jsxs)(s.Z,{onClick:()=>(e=>{y&&y(e)})(e._id),children:[f&&(0,p.jsx)(c.Z,{children:n+1}),r.map(((n,r)=>{if("IMAGE"===n.toUpperCase())return(0,p.jsx)(c.Z,{children:(0,p.jsx)("img",{style:{height:"100px"},src:`${e[`${n}`]}`,alt:"img"})},r);if("allocated"!=e.status&&"ALLOCATION"===n.toUpperCase())return console.log("dfffffffffffffffffffffffffffffffffffff"),console.log(e),(0,p.jsx)(c.Z,{children:(0,p.jsx)(u.Z,{variant:"contained",onClick:()=>(e=>{console.log("select alloccccccccccccccccccccccc"),console.log(e),console.log("heeeeeeeeeeeeeeeeeeeeeeedataaaaaaaaaaaaaaaa"),A(e.truckType),S(e.date),I(e.doId),console.log(e.truckType),N(!0)})({doId:e._id,truckType:e.truckType,date:e["available from"]}),children:"Allocate"})},r);if("allocated"==e.status&&"ALLOCATION"===n.toUpperCase())return(0,p.jsx)(c.Z,{children:(0,p.jsx)(u.Z,{variant:"contained",onClick:()=>{return n=e._id,b(n),void N(!0);var n},children:"View Allocation"})},r);if("VIEW DO"===n.toUpperCase()){const n=e["view DO"]||e.deliveryOrderId&&e.deliveryOrderId.doLink;return n?(0,p.jsx)(c.Z,{children:(0,p.jsx)(u.Z,{variant:"contained",onClick:()=>window.open(n,"_blank"),children:"View File"})},r):(0,p.jsx)(c.Z,{children:(0,p.jsx)(u.Z,{variant:"contained",disabled:!0,children:"No File"})},r)}return"isHighRangeArea"!=e.status&&"ISHIGHRANGEAREA"===n.toUpperCase()?(0,p.jsx)(c.Z,{children:e[`${n}`]?"Yes":"No"},r):"STATUS"===n.toUpperCase()?(0,p.jsx)(c.Z,{children:e[`${n}`]?"Active":"Inactive"},r):(0,p.jsx)(c.Z,{children:e[`${n}`]},r)})),j&&(0,p.jsx)(c.Z,{children:(0,p.jsx)(h.Z,{data:e,onActionChange:e=>{g(e)},actions:Z})})]},n)))})]})}),C&&(0,p.jsx)(x.Z,{open:L,close:()=>{A(null),console.log("heeeeeeeeeeeeeeeeeeeeeeeey"),v(),N(!1)},doId:w,date:k,type:C}),T&&(0,p.jsx)(m.Z,{open:L,close:()=>{b(null),v(),N(!1)},doId:T})]})}},5266:function(e,n,r){r.d(n,{h:function(){return i}});var t=r(6031),a=r.n(t);const i=(e,n,r)=>e.map((e=>a().mapKeys(e,((e,t)=>{for(let a=0;a<r.length;a++)if(t===n[a])return r[a];return t}))))},8405:function(e,n,r){r.r(n),r.d(n,{default:function(){return N}});var t=r(7313),a=r(2832),i=r(8999),l=r(5266),o=r(9536),s=r(9019),c=r(4631),d=r(1550),u=r(3306),h=r(8797),x=r(1405),m=r(1387),p=r(7825),f=r(1113),j=r(5480),Z=r(3929),g=r(24),y=r(1095),v=r(5627),C=r(2186),A=r(6417);function k(e){let{getLocation:n,addLocation:r,open:i,onClose:l,isEdit:o=!1,data:s={}}=e;const[k,S]=t.useState(!1),{control:T,handleSubmit:b,formState:{errors:w}}=(0,v.cI)({defaultValues:o?s.Name:""});return(0,t.useEffect)((()=>{}),[]),(0,A.jsx)(C.Z,{open:i,fullWidth:!0,onClose:()=>{l()},title:(o?"Edit":"Add")+" Truck",children:(0,A.jsx)("form",{onSubmit:b((e=>{console.log(e),r({name:e.name,kilometer:e.kilometer,tripType:e.tripType,isHighRangeArea:k}).then((e=>{console.log(e),m.Am.success("Location Added Successfully"),n(),l()})).catch((e=>{console.error(e),m.Am.error(e.response.data.message)}))})),children:(0,A.jsx)(p.Z,{children:(0,A.jsxs)(a.Z,{direction:"column",sx:{p:2},spacing:1,children:[(0,A.jsx)(f.Z,{variant:"h5",children:"Location Name"}),(0,A.jsx)(v.Qr,{name:"name",control:T,render:e=>{let{field:n}=e;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(c.Z,{...n,placeholder:"Enter Location Name"}),w.name&&(0,A.jsx)("span",{style:{color:"#f00"},children:w.name.message})]})},rules:{required:"Location Name is required"}}),(0,A.jsx)(f.Z,{variant:"h5",children:"Kilometer"}),(0,A.jsx)(v.Qr,{name:"kilometer",control:T,render:e=>{let{field:n}=e;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(c.Z,{...n,placeholder:"Enter Kilometer from terminal"}),w.kilometer&&(0,A.jsx)("span",{style:{color:"#f00"},children:w.kilometer.message})]})},rules:{required:"kilometer is required"}}),(0,A.jsx)(f.Z,{variant:"h5",children:"Trip Type"}),(0,A.jsxs)(d.Z,{error:Boolean(w.tripType),children:[(0,A.jsx)(u.Z,{id:"type-select-label",children:"Trip Type"}),(0,A.jsx)(v.Qr,{name:"tripType",control:T,render:e=>{let{field:n}=e;return(0,A.jsxs)(h.Z,{...n,labelId:"type-select-label",id:"type-select",label:"triptype",value:n.value||"",onChange:e=>n.onChange(e.target.value),children:[(0,A.jsx)(x.Z,{value:"",children:(0,A.jsx)("em",{children:"None"})}),"nationalPermit long medium local",(0,A.jsx)(x.Z,{value:"local",children:"local "},"local"),(0,A.jsx)(x.Z,{value:"medium",children:"medium "},"medium"),(0,A.jsx)(x.Z,{value:"long",children:"long "},"long"),(0,A.jsx)(x.Z,{value:"nationalPermit",children:"nationalPermit "},"nationalPermit")]})},rules:{required:"Trip Type is required"}}),w.triptype&&(0,A.jsx)(j.Z,{children:w.triptype.message})]}),(0,A.jsx)(d.Z,{children:(0,A.jsx)(Z.Z,{sx:{mt:1},control:(0,A.jsx)(g.Z,{checked:k,onChange:()=>S(!k)}),label:"Is HighRange"})}),(0,A.jsx)(y.Z,{variant:"contained",type:"submit",sx:{width:"150px"},children:"Add"})]})})})})}const S=["name","kilometer","isHighRangeArea","tripType"];function T(e){let{data:n,deleteAd:r,updateData:a}=e;const[p,f]=(0,t.useState)(!1),[j,Z]=(0,t.useState)(),[g,y]=(0,t.useState)(""),[v,C]=(0,t.useState)(""),T=n.filter((e=>{const n=e.name.toLowerCase().includes(g.toLowerCase()),r=!v||e.tripType===v;return n&&r})),b=(0,l.h)(T,["name","kilometer","isHighRangeArea","tripType"],S);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(o.Z,{sx:{mb:2},children:(0,A.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,A.jsx)(s.ZP,{item:!0,xs:12,md:6,children:(0,A.jsx)(c.Z,{label:"Search by Name",variant:"outlined",size:"small",fullWidth:!0,value:g,onChange:e=>y(e.target.value)})}),(0,A.jsx)(s.ZP,{item:!0,xs:12,md:6,children:(0,A.jsxs)(d.Z,{fullWidth:!0,size:"small",children:[(0,A.jsx)(u.Z,{children:"Trip Type"}),(0,A.jsxs)(h.Z,{value:v,label:"Trip Type",onChange:e=>C(e.target.value),children:[(0,A.jsx)(x.Z,{value:"",children:"All"}),["medium","local","long","nationalPermit"].map((e=>(0,A.jsx)(x.Z,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))]})]})})]})}),(0,A.jsx)(k,{open:p,onClose:()=>{f(!1)},data:j,isEdit:!0}),(0,A.jsx)(i.Z,{data:b,header:S,isShowSerialNo:!0,isShowAction:!0,actions:["delete"],onActionChange:e=>{console.log(e),"delete"==e.action?(console.log(e.data._id),Z(e.data),r(e.data._id).then((()=>{})).catch((e=>{console.error(e),m.Am.error(e.response.data.message)}))):Z(),a()}})]})}var b=r(2040),w=r(3497);function I(e){let{buttonClick:n}=e;return(0,A.jsx)(w.Z,{children:(0,A.jsxs)(a.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,A.jsx)(f.Z,{variant:"h3",color:"secondary.main",children:"Manage Locations"}),(0,A.jsx)(y.Z,{variant:"contained",startIcon:(0,A.jsx)(b.Z,{}),sx:{backgroundColor:"secondary.main"},onClick:n,children:"Add Locations"})]})})}var L=r(1322);function N(){const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)([]),l=async()=>{try{const e=await(0,L.RY)();i(e)}catch(e){console.log(e)}};return(0,t.useEffect)((()=>{l()}),[]),(0,A.jsxs)(a.Z,{direction:"column",gap:2,children:[(0,A.jsx)(k,{open:e,addLocation:L.Dx,getLocation:l,onClose:()=>n(!1)}),(0,A.jsx)(I,{buttonClick:()=>n(!0)}),(0,A.jsx)(T,{data:r,updateData:l})]})}}}]);