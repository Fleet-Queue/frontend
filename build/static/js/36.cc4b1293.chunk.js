"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[36],{8999:function(e,n,t){t.d(n,{Z:function(){return Z}});var a=t(7313),o=t(3497),r=t(1629),i=t(6835),s=t(3477),l=t(4076),c=t(7478),d=t(3467),u=t(1095),f=t(9848),p=t(6167),h=t(5842),x=t(6417);function Z(e){let{data:n,header:t,isShowSerialNo:Z=!1,isShowAction:m=!1,actions:v=["Edit","Delete"],onActionChange:g,onClickAction:j,refreshData:y}=e;const[C,S]=(0,a.useState)(null),[A,w]=(0,a.useState)(null),[I,b]=(0,a.useState)(null),[k,D]=(0,a.useState)(null),[N,_]=(0,a.useState)(!1);return(0,x.jsxs)(o.Z,{children:[(0,x.jsx)(r.Z,{children:(0,x.jsxs)(i.Z,{children:[(0,x.jsx)(s.Z,{children:(0,x.jsxs)(l.Z,{children:[Z&&(0,x.jsx)(c.Z,{sx:{color:"primary.main"},children:"SLNO"}),t.map(((e,n)=>(0,x.jsx)(c.Z,{sx:{color:"primary.main"},children:e},n))),m&&(0,x.jsx)(c.Z,{sx:{color:"primary.main"},children:"Action"})]})}),(0,x.jsx)(d.Z,{children:n.map(((e,n)=>(0,x.jsxs)(l.Z,{onClick:()=>(e=>{j&&j(e)})(e._id),children:[Z&&(0,x.jsx)(c.Z,{children:n+1}),t.map(((n,t)=>{if("IMAGE"===n.toUpperCase())return(0,x.jsx)(c.Z,{children:(0,x.jsx)("img",{style:{height:"100px"},src:`${e[`${n}`]}`,alt:"img"})},t);if("allocated"!=e.status&&"ALLOCATION"===n.toUpperCase())return console.log("dfffffffffffffffffffffffffffffffffffff"),console.log(e),(0,x.jsx)(c.Z,{children:(0,x.jsx)(u.Z,{variant:"contained",onClick:()=>(e=>{console.log("select alloccccccccccccccccccccccc"),console.log(e),console.log("heeeeeeeeeeeeeeeeeeeeeeedataaaaaaaaaaaaaaaa"),S(e.truckType),w(e.date),D(e.doId),console.log(e.truckType),_(!0)})({doId:e._id,truckType:e.truckType,date:e["available from"]}),children:"Allocate"})},t);if("allocated"==e.status&&"ALLOCATION"===n.toUpperCase())return(0,x.jsx)(c.Z,{children:(0,x.jsx)(u.Z,{variant:"contained",onClick:()=>{return n=e._id,b(n),void _(!0);var n},children:"View Allocation"})},t);if("VIEW DO"===n.toUpperCase()){const n=e["view DO"]||e.deliveryOrderId&&e.deliveryOrderId.doLink;return n?(0,x.jsx)(c.Z,{children:(0,x.jsx)(u.Z,{variant:"contained",onClick:()=>window.open(n,"_blank"),children:"View File"})},t):(0,x.jsx)(c.Z,{children:(0,x.jsx)(u.Z,{variant:"contained",disabled:!0,children:"No File"})},t)}return"isHighRangeArea"!=e.status&&"ISHIGHRANGEAREA"===n.toUpperCase()?(0,x.jsx)(c.Z,{children:e[`${n}`]?"Yes":"No"},t):"STATUS"===n.toUpperCase()?(0,x.jsx)(c.Z,{children:e[`${n}`]?"Active":"Inactive"},t):(0,x.jsx)(c.Z,{children:e[`${n}`]},t)})),m&&(0,x.jsx)(c.Z,{children:(0,x.jsx)(f.Z,{data:e,onActionChange:e=>{g(e)},actions:v})})]},n)))})]})}),C&&(0,x.jsx)(p.Z,{open:N,close:()=>{S(null),console.log("heeeeeeeeeeeeeeeeeeeeeeeey"),y(),_(!1)},doId:k,date:A,type:C}),I&&(0,x.jsx)(h.Z,{open:N,close:()=>{b(null),y(),_(!1)},doId:I})]})}},1036:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var a=t(7313),o=t(7890),r=t(2832),i=t(8999),s=t(5266),l=t(1387),c=t(1322),d=t(5713),u=t(6417);const f=["name","View DO","availableFrom","status","allocation"];function p(e){let{partyId:n,data:t,updateData:o}=e;const[r,p]=(0,a.useState)(!1),[h,x]=(0,a.useState)(),Z=(0,s.h)(t,["truckType","link","availableFrom","status"],f),m=()=>{o()};return console.log(h),(0,u.jsxs)(u.Fragment,{children:[h&&(0,u.jsx)(d.Z,{open:r,handleClose:()=>{p(!1),x(null)},itemId:h._id,itemName:h.deliveryOrderId.doNumber,onConfirm:(e,n)=>{console.log(`Cancelled item with ID: ${e} for reason: ${n}`),(0,c.IB)(e,{cancelReason:n}).then((()=>{l.Am.success("Successfully cancelled "),m()})).catch((e=>{var n,t;console.log(e),l.Am.error((null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"Failed to cancel the item")}))},formHeading:"cancel"}),(0,u.jsx)(i.Z,{data:Z,header:f,isShowSerialNo:!0,isShowAction:!0,actions:["cancel","re-allocate"],onActionChange:e=>{console.log(e),"cancel"==e.action?(console.log(e.data._id),x(e.data),p(!0)):"re-allocate"==e.action?(0,c.Tj)(e.data._id).then((()=>{l.Am.success("Successfully cancelled "),m()})).catch((e=>{var n,t;l.Am.error((null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"Failed to reallocate the item")})):x(),o(n)},refreshData:m})]})}var h=t(1113),x=t(3497);function Z(e){let{buttonClick:n,partyId:t}=e;return(0,u.jsx)(x.Z,{children:(0,u.jsxs)(r.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,u.jsx)(h.Z,{variant:"h3",color:"secondary.main",children:"Allocated DO Bookings"}),!1]})})}function m(){const[e,n]=(0,a.useState)([]);let{partyId:t}=(0,o.UO)();const i=async e=>{try{let t={status:"allocated"};e&&(t.partyId=e);const a=await(0,c.Xy)(t);n(a)}catch(t){console.log(t)}};return(0,a.useEffect)((()=>{i(t)}),[]),(0,u.jsxs)(r.Z,{direction:"column",gap:2,children:[(0,u.jsx)(Z,{partyId:t}),(0,u.jsx)(p,{partyId:t,data:e,updateData:i})]})}},5713:function(e,n,t){var a=t(7313),o=t(4469),r=t(3604),i=t(6467),s=t(1113),l=t(4631),c=t(4117),d=t(1095),u=t(6417);n.Z=e=>{let{open:n,handleClose:t,itemId:f,itemName:p,onConfirm:h,formHeading:x="cancel"}=e;const[Z,m]=(0,a.useState)("");return(0,u.jsxs)(o.Z,{open:n,onClose:t,children:[(0,u.jsxs)(r.Z,{children:[x," Item"]}),(0,u.jsxs)(i.Z,{children:[(0,u.jsxs)(s.Z,{children:["   Are you sure you want to ",x," the order for ",(0,u.jsx)("strong",{children:p}),"?"]}),(0,u.jsx)(l.Z,{autoFocus:!0,margin:"dense",label:" Reason",type:"text",fullWidth:!0,variant:"outlined",value:Z,onChange:e=>m(e.target.value)})]}),(0,u.jsxs)(c.Z,{children:[(0,u.jsx)(d.Z,{onClick:t,color:"primary",children:"back"}),(0,u.jsxs)(d.Z,{onClick:()=>{""!==Z.trim()?(h(f,Z),t()):alert("Please provide a reason for cancellation.")},color:"error",children:["Confirm ",x]})]})]})}},4117:function(e,n,t){t.d(n,{Z:function(){return Z}});var a=t(3366),o=t(7462),r=t(7313),i=t(4146),s=t(1921),l=t(7592),c=t(1033),d=t(7430),u=t(2298);function f(e){return(0,u.ZP)("MuiDialogActions",e)}(0,d.Z)("MuiDialogActions",["root","spacing"]);var p=t(6417);const h=["className","disableSpacing"],x=(0,l.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,!t.disableSpacing&&n.spacing]}})((e=>{let{ownerState:n}=e;return(0,o.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})}));var Z=r.forwardRef((function(e,n){const t=(0,c.i)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:l=!1}=t,d=(0,a.Z)(t,h),u=(0,o.Z)({},t,{disableSpacing:l}),Z=(e=>{const{classes:n,disableSpacing:t}=e,a={root:["root",!t&&"spacing"]};return(0,s.Z)(a,f,n)})(u);return(0,p.jsx)(x,(0,o.Z)({className:(0,i.Z)(Z.root,r),ownerState:u,ref:n},d))}))},6467:function(e,n,t){t.d(n,{Z:function(){return m}});var a=t(3366),o=t(7462),r=t(7313),i=t(4146),s=t(1921),l=t(7592),c=t(1033),d=t(7430),u=t(2298);function f(e){return(0,u.ZP)("MuiDialogContent",e)}(0,d.Z)("MuiDialogContent",["root","dividers"]);var p=t(3174),h=t(6417);const x=["className","dividers"],Z=(0,l.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.dividers&&n.dividers]}})((e=>{let{theme:n,ownerState:t}=e;return(0,o.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}:{[`.${p.Z.root} + &`]:{paddingTop:0}})}));var m=r.forwardRef((function(e,n){const t=(0,c.i)({props:e,name:"MuiDialogContent"}),{className:r,dividers:l=!1}=t,d=(0,a.Z)(t,x),u=(0,o.Z)({},t,{dividers:l}),p=(e=>{const{classes:n,dividers:t}=e,a={root:["root",t&&"dividers"]};return(0,s.Z)(a,f,n)})(u);return(0,h.jsx)(Z,(0,o.Z)({className:(0,i.Z)(p.root,r),ownerState:u,ref:n},d))}))}}]);