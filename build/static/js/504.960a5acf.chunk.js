"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[504],{8999:function(e,n,a){a.d(n,{Z:function(){return x}});var o=a(7313),t=a(3497),r=a(1629),s=a(6835),c=a(3477),i=a(4076),l=a(7478),d=a(3467),u=a(1095),f=a(9848),h=a(6167),p=a(5842),m=a(6417);function x(e){let{data:n,header:a,isShowSerialNo:x=!1,isShowAction:Z=!1,actions:g=["Edit","Delete"],onActionChange:j,onClickAction:v,refreshData:y}=e;const[C,S]=(0,o.useState)(null),[A,I]=(0,o.useState)(null),[k,w]=(0,o.useState)(null),[b,N]=(0,o.useState)(null),[D,O]=(0,o.useState)(!1);return(0,m.jsxs)(t.Z,{children:[(0,m.jsx)(r.Z,{children:(0,m.jsxs)(s.Z,{children:[(0,m.jsx)(c.Z,{children:(0,m.jsxs)(i.Z,{children:[x&&(0,m.jsx)(l.Z,{sx:{color:"primary.main"},children:"SLNO"}),a.map(((e,n)=>(0,m.jsx)(l.Z,{sx:{color:"primary.main"},children:e},n))),Z&&(0,m.jsx)(l.Z,{sx:{color:"primary.main"},children:"Action"})]})}),(0,m.jsx)(d.Z,{children:n.map(((e,n)=>(0,m.jsxs)(i.Z,{onClick:()=>(e=>{v&&v(e)})(e._id),children:[x&&(0,m.jsx)(l.Z,{children:n+1}),a.map(((n,a)=>{if("IMAGE"===n.toUpperCase())return(0,m.jsx)(l.Z,{children:(0,m.jsx)("img",{style:{height:"100px"},src:`${e[`${n}`]}`,alt:"img"})},a);if("allocated"!=e.status&&"ALLOCATION"===n.toUpperCase())return console.log("dfffffffffffffffffffffffffffffffffffff"),console.log(e),(0,m.jsx)(l.Z,{children:(0,m.jsx)(u.Z,{variant:"contained",onClick:()=>(e=>{console.log("select alloccccccccccccccccccccccc"),console.log(e),console.log("heeeeeeeeeeeeeeeeeeeeeeedataaaaaaaaaaaaaaaa"),S(e.truckType),I(e.date),N(e.doId),console.log(e.truckType),O(!0)})({doId:e._id,truckType:e.truckType,date:e["available from"]}),children:"Allocate"})},a);if("allocated"==e.status&&"ALLOCATION"===n.toUpperCase())return(0,m.jsx)(l.Z,{children:(0,m.jsx)(u.Z,{variant:"contained",onClick:()=>{return n=e._id,w(n),void O(!0);var n},children:"View Allocation"})},a);if("VIEW DO"===n.toUpperCase()){const n=e["view DO"]||e.deliveryOrderId&&e.deliveryOrderId.doLink;return n?(0,m.jsx)(l.Z,{children:(0,m.jsx)(u.Z,{variant:"contained",onClick:()=>window.open(n,"_blank"),children:"View File"})},a):(0,m.jsx)(l.Z,{children:(0,m.jsx)(u.Z,{variant:"contained",disabled:!0,children:"No File"})},a)}return"isHighRangeArea"!=e.status&&"ISHIGHRANGEAREA"===n.toUpperCase()?(0,m.jsx)(l.Z,{children:e[`${n}`]?"Yes":"No"},a):"STATUS"===n.toUpperCase()?(0,m.jsx)(l.Z,{children:e[`${n}`]?"Active":"Inactive"},a):(0,m.jsx)(l.Z,{children:e[`${n}`]},a)})),Z&&(0,m.jsx)(l.Z,{children:(0,m.jsx)(f.Z,{data:e,onActionChange:e=>{j(e)},actions:g})})]},n)))})]})}),C&&(0,m.jsx)(h.Z,{open:D,close:()=>{S(null),console.log("heeeeeeeeeeeeeeeeeeeeeeeey"),y(),O(!1)},doId:b,date:A,type:C}),k&&(0,m.jsx)(p.Z,{open:D,close:()=>{w(null),y(),O(!1)},doId:k})]})}},5266:function(e,n,a){a.d(n,{h:function(){return r}});var o=a(6031),t=a.n(o);const r=(e,n,a)=>e.map((e=>t().mapKeys(e,((e,o)=>{for(let t=0;t<a.length;t++)if(o===n[t])return a[t];return o}))))},5713:function(e,n,a){var o=a(7313),t=a(4469),r=a(3604),s=a(6467),c=a(1113),i=a(4631),l=a(4117),d=a(1095),u=a(6417);n.Z=e=>{let{open:n,handleClose:a,itemId:f,itemName:h,onConfirm:p,formHeading:m="cancel"}=e;const[x,Z]=(0,o.useState)("");return(0,u.jsxs)(t.Z,{open:n,onClose:a,children:[(0,u.jsxs)(r.Z,{children:[m," Item"]}),(0,u.jsxs)(s.Z,{children:[(0,u.jsxs)(c.Z,{children:["   Are you sure you want to ",m," the order for ",(0,u.jsx)("strong",{children:h}),"?"]}),(0,u.jsx)(i.Z,{autoFocus:!0,margin:"dense",label:" Reason",type:"text",fullWidth:!0,variant:"outlined",value:x,onChange:e=>Z(e.target.value)})]}),(0,u.jsxs)(l.Z,{children:[(0,u.jsx)(d.Z,{onClick:a,color:"primary",children:"back"}),(0,u.jsxs)(d.Z,{onClick:()=>{""!==x.trim()?(p(f,x),a()):alert("Please provide a reason for cancellation.")},color:"error",children:["Confirm ",m]})]})]})}},4504:function(e,n,a){a.r(n),a.d(n,{default:function(){return j}});var o=a(7313),t=a(7890),r=a(2832),s=a(8999),c=a(5266),i=a(1387),l=a(1322),d=a(5713),u=a(6417);const f=["Do No.","Name","Location","Company Name","truckType","rate","available from","status","allocation","view DO"];function h(e){let{partyId:n,data:a,updateData:t}=e;const[r,h]=(0,o.useState)(),[p,m]=(0,o.useState)(!1),x=(0,c.h)(a,["doNumber","name","location","companyName","truckType","rate","availableFrom","status"],f),Z=()=>{t()};return console.log(r),(0,u.jsxs)(u.Fragment,{children:[r&&(0,u.jsx)(d.Z,{open:p,handleClose:()=>{m(!1),h(null)},itemId:r._id,itemName:r.deliveryOrderId.doNumber,onConfirm:(e,n)=>{console.log(`Cancelled item with ID: ${e} for reason: ${n}`),(0,l.ss)(e,{cancelReason:n}).then((()=>{i.Am.success("Successfully cancelled "),Z()})).catch((e=>{var n,a;console.log(e),i.Am.error((null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to cancel the item")}))},formHeading:"cancel"}),(0,u.jsx)(s.Z,{data:x,header:f,isShowSerialNo:!0,isShowAction:!0,actions:["cancel","re-open"],onActionChange:e=>{console.log(e),"cancel"==e.action?(console.log(e.data._id),h(e.data),m(!0)):"re-open"==e.action?(0,l.xF)(e.data._id).then((()=>{i.Am.success("Successfully re opened "),Z()})).catch((e=>{var n,a;console.log(e),i.Am.error((null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to re open the item")})):h(),t(n)},refreshData:Z})]})}var p=a(2040),m=a(1113),x=a(1095),Z=a(3497);function g(e){let{buttonClick:n,partyId:a}=e;return(0,u.jsx)(Z.Z,{children:(0,u.jsxs)(r.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,u.jsx)(m.Z,{variant:"h3",color:"secondary.main",children:"Open DO Bookings"}),a&&(!1)((0,u.jsx)(x.Z,{variant:"contained",startIcon:(0,u.jsx)(p.Z,{}),sx:{backgroundColor:"secondary.main"},onClick:n,children:"Open DOs"}))]})})}function j(){const[e,n]=(0,o.useState)([]);let{partyId:a}=(0,t.UO)();const s=async e=>{try{let a={status:"open"};e&&(a.partyId=e);const o=await(0,l.Xy)(a);n(o)}catch(a){console.log(a)}};return(0,o.useEffect)((()=>{s(a)}),[]),(0,u.jsxs)(r.Z,{direction:"column",gap:2,children:[(0,u.jsx)(g,{partyId:a}),(0,u.jsx)(h,{partyId:a,data:e,updateData:s})]})}},2040:function(e,n,a){var o=a(1171),t=a(6417);n.Z=(0,o.Z)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},4117:function(e,n,a){a.d(n,{Z:function(){return x}});var o=a(3366),t=a(7462),r=a(7313),s=a(4146),c=a(1921),i=a(7592),l=a(1033),d=a(7430),u=a(2298);function f(e){return(0,u.ZP)("MuiDialogActions",e)}(0,d.Z)("MuiDialogActions",["root","spacing"]);var h=a(6417);const p=["className","disableSpacing"],m=(0,i.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:a}=e;return[n.root,!a.disableSpacing&&n.spacing]}})((e=>{let{ownerState:n}=e;return(0,t.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})}));var x=r.forwardRef((function(e,n){const a=(0,l.i)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1}=a,d=(0,o.Z)(a,p),u=(0,t.Z)({},a,{disableSpacing:i}),x=(e=>{const{classes:n,disableSpacing:a}=e,o={root:["root",!a&&"spacing"]};return(0,c.Z)(o,f,n)})(u);return(0,h.jsx)(m,(0,t.Z)({className:(0,s.Z)(x.root,r),ownerState:u,ref:n},d))}))},3604:function(e,n,a){var o=a(7462),t=a(3366),r=a(7313),s=a(4146),c=a(1921),i=a(1113),l=a(7592),d=a(1033),u=a(3174),f=a(3909),h=a(6417);const p=["className","id"],m=(0,l.ZP)(i.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,n)=>n.root})({padding:"16px 24px",flex:"0 0 auto"}),x=r.forwardRef((function(e,n){const a=(0,d.i)({props:e,name:"MuiDialogTitle"}),{className:i,id:l}=a,x=(0,t.Z)(a,p),Z=a,g=(e=>{const{classes:n}=e;return(0,c.Z)({root:["root"]},u.a,n)})(Z),{titleId:j=l}=r.useContext(f.Z);return(0,h.jsx)(m,(0,o.Z)({component:"h2",className:(0,s.Z)(g.root,i),ownerState:Z,ref:n,variant:"h6",id:null!=l?l:j},x))}));n.Z=x}}]);