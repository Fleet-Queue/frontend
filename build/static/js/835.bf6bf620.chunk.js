"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[835],{5842:function(e,t,n){var o=n(7313),r=n(1095),a=n(4469),i=n(3213),s=n(9840),c=n(8310),l=n(2247),d=n(5908),u=n(9289),g=n(7131),h=n(1113),p=n(1198),x=n(301),m=n(1322),j=n(1387),y=n(6417);const f=o.forwardRef((function(e,t){return(0,y.jsx)(x.Z,{direction:"up",ref:t,...e})}));t.Z=e=>{const[t,n]=o.useState(e.open);const[x,Z]=o.useState({}),k=()=>{n(!1),e.close()},w=e=>new Date(e).toLocaleString(),v=e=>{(0,m.ut)(e).then((e=>{Z(e),console.log(e)})).catch((e=>{console.log(e),j.Am.error(e.response.data.message)}))},b=(t,n)=>{(0,m.jK)({status:n,allocId:t}).then((t=>{console.log(t),j.Am.success("status updated successfully"),v({doBookingId:e.doId})})).catch((e=>{console.log(e),j.Am.error(e.response.data.message)}))};return(0,o.useEffect)((()=>{e.doId&&v({doBookingId:e.doId})}),[]),(0,y.jsx)(o.Fragment,{children:(0,y.jsxs)(a.Z,{fullWidth:!0,maxWidth:"md",open:t,onClose:k,TransitionComponent:f,children:[(0,y.jsx)(d.Z,{sx:{position:"relative"},children:(0,y.jsxs)(u.Z,{children:[(0,y.jsx)(g.Z,{edge:"start",color:"inherit",onClick:k,"aria-label":"close",children:(0,y.jsx)(p.Z,{})}),(0,y.jsx)(h.Z,{sx:{ml:2,flex:1,color:"white"},variant:"h3",component:"div",children:"Allocated Details"}),(0,y.jsx)(r.Z,{autoFocus:!0,color:"inherit",onClick:k,children:"Close"})]})}),(0,y.jsx)(c.Z,{children:x&&x.truckBookingId&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(s.Z,{children:[(0,y.jsx)(i.Z,{primary:x.truckBookingId.truck.name,secondary:x.truckBookingId.truck.registrationNumber}),(0,y.jsx)(i.Z,{primary:x.truckBookingId.truck.category,secondary:x.truckBookingId.truck.truckType+" FT"}),(0,y.jsx)(i.Z,{primary:"allocated on:",secondary:w(x.allocatedOn)}),(0,y.jsx)(i.Z,{primary:x.truckBookingId.truck.companyId.name,secondary:x.truckBookingId.truck.companyId.contactNumber})]},1),(0,y.jsxs)(s.Z,{children:[(0,y.jsx)(i.Z,{primary:x.truckBookingId.truck.companyId.ownerName,secondary:x.truckBookingId.truck.companyId.address}),(0,y.jsx)(i.Z,{primary:"driver: "+x.truckBookingId.truck.driverId.name,secondary:x.truckBookingId.truck.driverId.contactNumber}),(0,y.jsx)(i.Z,{primary:"Date on:",secondary:w(x.truckBookingId.availableFrom)}),(0,y.jsx)(i.Z,{primary:"Status:",secondary:x.status}),"allocated"===x.status?(0,y.jsx)(r.Z,{variant:"contained",onClick:()=>b(x._id,"ongoing"),children:"Move to Live"}):"ongoing"===x.status?(0,y.jsx)(r.Z,{variant:"contained",onClick:()=>b(x._id,"done"),children:"Move to Done"}):"expired"===x.status?(0,y.jsx)(r.Z,{variant:"contained",disabled:!0,children:"Expired"}):null]},2),(0,y.jsx)(l.Z,{})]})})]})})}},1322:function(e,t,n){n.d(t,{$K:function(){return g},$g:function(){return v},Au:function(){return u},Dx:function(){return P},ES:function(){return L},GB:function(){return h},Gu:function(){return l},Jq:function(){return N},Jr:function(){return y},KI:function(){return D},Mg:function(){return F},Pe:function(){return x},Q1:function(){return j},RY:function(){return b},S1:function(){return S},T7:function(){return k},VW:function(){return f},Wo:function(){return B},X2:function(){return T},Xy:function(){return A},a2:function(){return m},aZ:function(){return d},cW:function(){return C},jK:function(){return w},ji:function(){return s},kR:function(){return I},kl:function(){return p},lQ:function(){return a},oR:function(){return i},r7:function(){return c},ut:function(){return Z},zE:function(){return z}});var o=n(5662);baseURL="https://apis.fleetq.live/",console.log(window.location.hostname);const r=o.Z.create({baseURL:`${baseURL}api/`,headers:{"Content-Type":"application/json"}});async function a(e){const t=await r.post("company",e);return console.log(t.data),t.data}async function i(e){console.log(e);const t=await r.delete("company/"+e,e);return console.log(t.data),t.data}async function s(e,t){console.log(t);const n=await r.patch("company/"+e,t);return console.log(n.data),n.data}async function c(e){const t=await r.post("company/getAllCompany",e);return console.log(t.data),t.data}async function l(e){const t=await r.post("truck",e);return console.log(t.data),t.data}async function d(e){const t=await r.post("truck/getAllTruck",e);return console.log(t.data),t.data}async function u(e){const t=await r.post("truck/updateTruckStatus",e);return console.log(t.data),t.data}async function g(e){console.log(e);const t=await r.delete("truck/"+e,e);return console.log(t.data),t.data}async function h(e){const t=await r.post("truck/updateTruckBookingStatus",e);return console.log(t.data),t.data}async function p(e){const t=await r.post("truck/getAllTruckBookings",e);return console.log(t.data),t.data}async function x(e){const t=await r.post("truck/addTruckToBooking",e);return console.log(t.data),t.data}async function m(e){const t=await r.post("party/getAllParty",e);return console.log(t.data),t.data}async function j(e){const t=await r.post("party",e);return console.log(t.data),t.data}async function y(e){return(await r.post("truck/getAllTruckBookings",{status:e.status})).data}async function f(e){return(await r.post("truck/getInQueueTrucks",e)).data}async function Z(e){const t=await r.post("allocation/getAllocationDetails",e);return console.log(t.data),t.data}async function k(e){const t=await r.post("allocation",e);return console.log(t.data),t.data}async function w(e){const t=await r.post("allocation/changeAllocationStatus",e);return console.log(t.data),t.data}async function v(e){const t=await r.post("user/login",e);return console.log("heeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"),console.log(t),console.log(t.data),t.data}async function b(e){const t=await r.post("location/getAllLocation",e);return console.log(t.data),t.data}async function P(e){const t=await r.post("location",e);return console.log(t.data),t.data}async function A(e){const t=await r.post("doBooking/getAllDO",e);return console.log(t.data),t.data}async function C(e){const t=await r.post("doBooking",e);return console.log(t.data),t.data}async function I(e){const t=await r.post("doBooking/uploadDO",e);return console.log(t.data),t.data}async function S(e){const t=await r.post("doBooking/getAllDeliveryOrders",e);return console.log(t.data),t.data}async function B(e){const t=await r.delete("doBooking",e);return console.log(t.data),t.data}async function D(e){const t=await r.delete("doBooking/deleteDeliveryOrder/"+e);return console.log(t.data),t.data}async function T(e){const t=await r.post("driver",e);return console.log(t.data),t.data}async function z(e){const t=await r.post("driver/getAllDrivers",e);return console.log(t.data),t.data}async function N(e){const t=await r.post("driver/getCompanyDrivers",e);return console.log(t.data),t.data}async function F(e){console.log(e);const t=await r.delete("driver/"+e,e);return console.log(t.data),t.data}async function L(e,t){console.log(t);const n=await r.patch("driver/"+e,t);return console.log(n.data),n.data}r.interceptors.request.use((async e=>{const t=localStorage.getItem("token");return t?e.headers.Authorization="Bearer "+t:console.warn("Token not found in localStorage"),e}),(e=>Promise.reject(e))),r.interceptors.response.use((e=>e),(e=>(e.response&&401===e.response.status&&(console.log("Unauthorized, logging out..."),localStorage.clear(),window.location.href="/login"),Promise.reject(e))))},2835:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var o=n(7313),r=n(9019),a=n(1113),i=n(7592),s=n(9860),c=n(9536),l=n(9088),d=n(3497),u=n(3428),g=n(3405),h=n(4488),p=n(6417);var x=()=>(0,p.jsx)(u.Z,{children:(0,p.jsx)(g.Z,{children:(0,p.jsxs)(r.ZP,{container:!0,direction:"column",children:[(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsxs)(r.ZP,{container:!0,justifyContent:"space-between",children:[(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(h.Z,{variant:"rectangular",width:44,height:44})}),(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(h.Z,{variant:"rectangular",width:34,height:34})})]})}),(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(h.Z,{variant:"rectangular",sx:{my:2},height:40})}),(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(h.Z,{variant:"rectangular",height:30})})]})})}),m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR4nNXUTUtVURTG8VumYdAFrVE5KSQINJMoNBwJQtBACs2GWSSBiNTASUpC4QskGQ1Sy7KCkMoPUE77Xr/Y13XjENfj5XqF3PCwD/vl/Nez1t67UDj0DcM1qrlawHYNP/+GM9UCVmtwPft/AdAVOoez0XfljL/FFMYqqLcSoDVUTMWLvjVnfBE3cCWjLVzFM0zUJUV4FQF2YCUz/xFN9QCsRvRj/wBuJx0k4Bje/wWgP5QK2B59f874pwC8w3WMxncxA1lIB2O/Du7jZRT+At5gE5dwE0/rfg/sgKfDwdcDuWh2npOVMuALNmqpQWF3wBo6S4UOS7MxcRIPMI62ahxEvh9jCA2ZNM2UHZQAUajv6MNlfE5R5AFwF3O4iFv4EA47w/F2GfAaL+JGpkiexNOwgfMVlNb3RHrTmV/CNdzDSGZdyUExKv4bLVjGj4j0V8ztpvQknMZPTGIg7c3MP8raThE9x1E04g4e7nGalsN1E46H41N5GwYjj2tRuCN7AE5gPtavoztv/eFsfwCPiI96xTnUPwAAAABJRU5ErkJggg==",j=n(7715),y=n(5228),f=n(6362);const Z=(0,i.ZP)(d.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.secondary.dark,color:"#fff",overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:t.palette.secondary[800],borderRadius:"50%",top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{content:'""',position:"absolute",width:210,height:210,background:t.palette.secondary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var k=e=>{let{isLoading:t,data:n}=e;const i=(0,s.Z)(),[d,u]=(0,o.useState)(n);return(0,o.useEffect)((()=>{u(n)}),[n,t]),(0,p.jsx)(p.Fragment,{children:t||!d?(0,p.jsx)(x,{}):(0,p.jsx)(Z,{border:!1,content:!1,children:(0,p.jsx)(c.Z,{sx:{p:2.25},children:(0,p.jsxs)(r.ZP,{container:!0,direction:"column",children:[(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsxs)(r.ZP,{container:!0,justifyContent:"space-between",children:[(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(l.Z,{variant:"rounded",sx:{...i.typography.commonAvatar,...i.typography.largeAvatar,backgroundColor:i.palette.secondary[800],mt:1},children:(0,p.jsx)("img",{src:m,alt:"truck"})})}),(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(y.Z,{color:"secondary",badgeContent:d.truck.truckType+"FT",max:999,sx:{marginTop:1,marginRight:1.5},children:(0,p.jsx)(f.Z,{})})})]})}),(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsxs)(r.ZP,{container:!0,alignItems:"center",children:[(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(a.Z,{sx:{fontSize:"2rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:d.truck.registrationNumber})}),(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(l.Z,{sx:{cursor:"pointer",...i.typography.smallAvatar,backgroundColor:i.palette.secondary[200],color:i.palette.secondary.dark},children:(0,p.jsx)(j.Z,{fontSize:"inherit"})})})]})}),(0,p.jsxs)(r.ZP,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,p.jsxs)(r.ZP,{item:!0,children:[(0,p.jsxs)(a.Z,{sx:{fontSize:"1rem",fontWeight:500,color:i.palette.secondary[200]},children:["Category: ",d.truck.category]}),(0,p.jsxs)(a.Z,{sx:{fontSize:"1rem",fontWeight:500,color:i.palette.secondary[200]},children:["Date: ",new Date(d.availableFrom).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]}),(0,p.jsxs)(r.ZP,{item:!0,children:[(0,p.jsxs)(a.Z,{sx:{fontSize:"1rem",fontWeight:500,color:i.palette.secondary[200]},children:["Party: ",d.allocation.DOBookingId.partyId.name]}),(0,p.jsxs)(a.Z,{sx:{fontSize:"1rem",fontWeight:500,color:i.palette.secondary[200]},children:["Contact: ",d.allocation.DOBookingId.partyId.contactNumber]})]})]})]})})})})},w=n(1095),v=n(5842);const b=(0,i.ZP)(d.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.secondary.dark,color:"#fff",overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:t.palette.secondary[800],borderRadius:"50%",top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{content:'""',position:"absolute",width:210,height:210,background:t.palette.secondary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var P=e=>{let{isLoading:t,data:n}=e;const i=(0,s.Z)(),[d,u]=(0,o.useState)(n);(0,o.useEffect)((()=>{u(n)}),[n,t]);const[g,h]=(0,o.useState)(null),[Z,k]=(0,o.useState)(!1);return(0,p.jsxs)(p.Fragment,{children:[t||!d?(0,p.jsx)(x,{}):(0,p.jsx)(b,{border:!1,content:!1,children:(0,p.jsx)(c.Z,{sx:{p:2.25},children:(0,p.jsxs)(r.ZP,{container:!0,direction:"column",children:[(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsxs)(r.ZP,{container:!0,justifyContent:"space-between",children:[(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(l.Z,{variant:"rounded",sx:{...i.typography.commonAvatar,...i.typography.largeAvatar,backgroundColor:i.palette.secondary[800],mt:1},children:(0,p.jsx)("img",{src:m,alt:"truck"})})}),(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(y.Z,{color:"secondary",badgeContent:"Alloc",max:999,sx:{marginTop:1,marginRight:1.5},children:(0,p.jsx)(f.Z,{})})})]})}),(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsxs)(r.ZP,{container:!0,alignItems:"center",children:[(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(a.Z,{sx:{fontSize:"2rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:d.deliveryOrderId.name})}),(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(l.Z,{sx:{cursor:"pointer",...i.typography.smallAvatar,backgroundColor:i.palette.secondary[200],color:i.palette.secondary.dark},children:(0,p.jsx)(j.Z,{fontSize:"inherit"})})})]})}),(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(c.Z,{style:{display:"flex",justifyContent:"space-between"},children:(0,p.jsxs)(a.Z,{sx:{fontSize:"1rem",fontWeight:500,color:i.palette.secondary[200]},children:["uploadDate: ",new Date(d.deliveryOrderId.createdAt).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric"})]})})}),(0,p.jsx)(r.ZP,{item:!0,paddingTop:1,children:(0,p.jsxs)(c.Z,{style:{display:"flex",justifyContent:"space-between"},children:[(0,p.jsx)(w.Z,{variant:"contained",color:"secondary",onClick:()=>{return e=d._id,h(e),void k(!0);var e},children:"View Allocation"}),(0,p.jsx)(w.Z,{variant:"contained",color:"secondary",onClick:()=>window.open(d.deliveryOrderId.doLink),children:"View Do"})]})})]})})}),g&&(0,p.jsx)(v.Z,{open:Z,close:()=>{h(null),refreshData(),k(!1)},doId:g})]})},A=n(2999);const C=(0,i.ZP)(d.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.primary.dark,color:"#fff",overflow:"hidden",position:"relative","&>div":{position:"relative",zIndex:5},"&:after":{content:'""',position:"absolute",width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",zIndex:1,top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{content:'""',position:"absolute",zIndex:1,width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var I=e=>{let{isLoading:t,data:n}=e;const i=(0,s.Z)(),[d,u]=(0,o.useState)(n);return(0,o.useEffect)((()=>{console.log(t),console.log(n),u(n)}),[n,t]),(0,p.jsx)(p.Fragment,{children:t||!d?(0,p.jsx)(x,{}):(0,p.jsx)(C,{border:!1,content:!1,children:(0,p.jsx)(c.Z,{sx:{p:2.25},children:(0,p.jsxs)(r.ZP,{container:!0,direction:"column",children:[(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsxs)(r.ZP,{container:!0,justifyContent:"space-between",children:[(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(l.Z,{variant:"rounded",sx:{...i.typography.commonAvatar,...i.typography.largeAvatar,backgroundColor:i.palette.primary[800],mt:1},children:(0,p.jsx)("img",{src:m,alt:"Notification"})})}),(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(y.Z,{color:"primary",badgeContent:d.truck.truckType+"FT",max:999,sx:{marginTop:1,marginRight:1.5}})})]})}),(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsxs)(r.ZP,{container:!0,alignItems:"center",children:[(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(a.Z,{sx:{fontSize:"2rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:d.truck.registrationNumber})}),(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(l.Z,{sx:{cursor:"pointer",...i.typography.smallAvatar,backgroundColor:i.palette.primary[200],color:i.palette.primary.dark},children:(0,p.jsx)(A.Z,{fontSize:"inherit"})})})]})}),(0,p.jsxs)(r.ZP,{item:!0,sx:{mb:1.25},children:[(0,p.jsxs)(a.Z,{sx:{fontSize:"1rem",fontWeight:500,color:i.palette.primary[200]},children:["Category: ",d.truck.category]}),(0,p.jsxs)(a.Z,{sx:{fontSize:"1rem",fontWeight:500,color:i.palette.primary[200]},children:["Type: ",d.truckType," Feet"]})]})]})})})})},S=n(2401),B=n(1322),D=n(1387),T=n(7890);const z=(0,i.ZP)(d.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.primary.dark,color:"#fff",overflow:"hidden",position:"relative","&>div":{position:"relative",zIndex:5},"&:after":{content:'""',position:"absolute",width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",zIndex:1,top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{content:'""',position:"absolute",zIndex:1,width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var N=e=>{let{isLoading:t,data:n}=e;const i=(0,s.Z)(),[d,u]=(0,o.useState)(n),g=(0,T.s0)();return(0,o.useEffect)((()=>{console.log(t),console.log(n),u(n)}),[n,t]),(0,p.jsx)(p.Fragment,{children:t||!d?(0,p.jsx)(x,{}):(0,p.jsx)(z,{border:!1,content:!1,children:(0,p.jsx)(c.Z,{sx:{p:2.25},children:(0,p.jsxs)(r.ZP,{container:!0,direction:"column",children:[(0,p.jsx)(r.ZP,{item:!0,onClick:()=>g("/doUpload"),children:(0,p.jsx)(r.ZP,{container:!0,justifyContent:"space-between",children:(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(l.Z,{variant:"rounded",sx:{...i.typography.commonAvatar,...i.typography.largeAvatar,backgroundColor:i.palette.primary[800],mt:1},children:(0,p.jsx)("img",{src:m,alt:"Notification"})})})})}),(0,p.jsx)(r.ZP,{item:!0,onClick:()=>g("/doUpload"),children:(0,p.jsxs)(r.ZP,{container:!0,alignItems:"center",children:[(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(a.Z,{sx:{fontSize:"2rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:d.name})}),(0,p.jsx)(r.ZP,{item:!0,children:(0,p.jsx)(l.Z,{sx:{cursor:"pointer",...i.typography.smallAvatar,backgroundColor:i.palette.primary[200],color:i.palette.primary.dark},children:(0,p.jsx)(A.Z,{fontSize:"inherit"})})})]})}),(0,p.jsx)(r.ZP,{item:!0,sx:{mb:1.25},children:(0,p.jsxs)(c.Z,{style:{display:"flex",justifyContent:"space-between"},children:[(0,p.jsxs)(a.Z,{sx:{fontSize:"1rem",fontWeight:500,color:i.palette.primary[200]},children:["uploadDate: ",d.uploadDate]}),(0,p.jsx)(w.Z,{variant:"contained",onClick:()=>window.open(d.link),children:"View Do"})]})})]})})})})};var F=()=>{const[e,t]=(0,o.useState)(!0),[n,i]=(0,o.useState)([]),[s,c]=(0,o.useState)([]),[l,d]=(0,o.useState)([]),[u,g]=(0,o.useState)([]),[h,x]=(0,o.useState)(""),m=()=>{(0,B.Xy)({status:"allocated"}).then((e=>{d(e),console.log(e)})).catch((e=>{D.Am.error(e.response.data.msg)}))};return(0,o.useEffect)((()=>{let e=localStorage.getItem("role");x(localStorage.getItem("role")),"transporter"===e&&((0,B.Jr)({status:"ongoing"}).then((e=>{console.log(e),c(e)})).catch((e=>{D.Am.error(e.response.data.msg)})),(0,B.Jr)({status:"inqueue"}).then((e=>{console.log(e),i(e)})).catch((e=>{D.Am.error(e.response.data.msg)}))),"admin"!==e&&"forwarder"!==e||((0,B.S1)({status:0}).then((e=>{g(e),console.log(e)})).catch((e=>{D.Am.error(e.response.data.msg)})),m()),"fowarder"===e&&m(),t(!1),console.log(h)}),[]),(0,p.jsx)("div",{style:{overflowX:"auto"},children:(0,p.jsxs)(r.ZP,{container:!0,spacing:S.dv,children:["transporter"===h?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(r.ZP,{item:!0,xs:12,children:[(0,p.jsx)(r.ZP,{py:4,children:(0,p.jsx)(a.Z,{variant:"h2",children:"Ongoing"})}),(0,p.jsx)(r.ZP,{container:!0,spacing:S.dv,children:s&&s.length>0?s.map((t=>(0,p.jsx)(r.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:(0,p.jsx)(k,{data:t,isLoading:e})},t._id))):(0,p.jsx)(r.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:e?(0,p.jsx)(k,{data:[],isLoading:!0}):(0,p.jsx)(a.Z,{variant:"body1",children:"Currently No Ongoing Trucks"})},1)})]}),(0,p.jsxs)(r.ZP,{item:!0,xs:12,children:[(0,p.jsx)(r.ZP,{py:3,children:(0,p.jsx)(a.Z,{variant:"h2",children:"In Queue"})}),(0,p.jsx)(r.ZP,{container:!0,spacing:S.dv,children:n&&n.length>0?n.map((t=>(0,p.jsx)(r.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:(0,p.jsx)(I,{data:t,isLoading:e})},t.registrationNumber))):(0,p.jsx)(r.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:e?(0,p.jsx)(I,{data:[],isLoading:!0}):(0,p.jsx)(a.Z,{variant:"body1",children:"Currently No Inqueue available"})},1)})]})]}):(0,p.jsx)(p.Fragment,{}),"forwarder"===h?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(r.ZP,{item:!0,xs:12,children:[(0,p.jsx)(r.ZP,{py:3,children:(0,p.jsx)(a.Z,{variant:"h2",children:"Pending Dos"})}),(0,p.jsx)(r.ZP,{container:!0,spacing:S.dv,children:u&&u.length>0?u.map((t=>(0,p.jsx)(r.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:(0,p.jsx)(N,{data:t,isLoading:e})},t._id))):(0,p.jsx)(r.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:e?(0,p.jsx)(I,{data:[],isLoading:!0}):(0,p.jsx)(a.Z,{variant:"body1",children:"No Open Dos"})},1)})]}),(0,p.jsxs)(r.ZP,{item:!0,xs:12,children:[(0,p.jsx)(r.ZP,{py:4,children:(0,p.jsx)(a.Z,{variant:"h2",children:"Allocated Orders"})}),(0,p.jsx)(r.ZP,{container:!0,spacing:S.dv,children:l&&l.length>0?l.map((t=>(0,p.jsx)(r.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:(0,p.jsx)(P,{data:t,isLoading:e})},t._id))):(0,p.jsx)(r.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:e?(0,p.jsx)(k,{data:[],isLoading:!0}):(0,p.jsx)(a.Z,{variant:"body1",children:"Currently No Allocated Trucks"})},1)})]})]}):(0,p.jsx)(p.Fragment,{}),"admin"===h?(0,p.jsxs)(r.ZP,{item:!0,xs:12,children:[(0,p.jsx)(r.ZP,{py:3,children:(0,p.jsx)(a.Z,{variant:"h2",children:"Open Dos"})}),(0,p.jsx)(r.ZP,{container:!0,spacing:S.dv,children:u&&u.length>0?u.map((t=>(0,p.jsx)(r.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:(0,p.jsx)(N,{data:t,isLoading:e})},t._id))):(0,p.jsx)(r.ZP,{item:!0,lg:4,md:4,sm:6,xs:12,children:e?(0,p.jsx)(I,{data:[],isLoading:!0}):(0,p.jsx)(a.Z,{variant:"body1",children:"No Open Dos"})},1)})]}):(0,p.jsx)(p.Fragment,{})]})})}}}]);