"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[36],{1036:function(e,t,o){o.r(t),o.d(t,{default:function(){return h}});var a=o(7313),n=o(7890),r=o(2832),i=o(8999),s=o(5266),l=o(1387),c=o(1322),d=o(5713),u=o(6417);const p=["name","View DO","availableFrom","status","allocation"];function f(e){let{partyId:t,data:o,updateData:n}=e;const[r,f]=(0,a.useState)(!1),[m,v]=(0,a.useState)(),g=(0,s.h)(o,["truckType","link","availableFrom","status"],p),h=()=>{n()};return console.log(m),(0,u.jsxs)(u.Fragment,{children:[m&&(0,u.jsx)(d.Z,{open:r,handleClose:()=>{f(!1),v(null)},itemId:m._id,itemName:m.deliveryOrderId.doNumber,onConfirm:(e,t)=>{console.log(`Cancelled item with ID: ${e} for reason: ${t}`),(0,c.IB)(e,{cancelReason:t}).then((()=>{l.Am.success("Successfully cancelled "),h()})).catch((e=>{var t,o;console.log(e),l.Am.error((null===(t=e.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message)||"Failed to cancel the item")}))},formHeading:"cancel"}),(0,u.jsx)(i.Z,{data:g,header:p,isShowSerialNo:!0,isShowAction:!0,actions:["cancel","re-allocate"],onActionChange:e=>{console.log(e),"cancel"==e.action?(console.log(e.data._id),v(e.data),f(!0)):"re-allocate"==e.action?(0,c.Tj)(e.data._id).then((()=>{l.Am.success("Successfully cancelled "),h()})).catch((e=>{var t,o;l.Am.error((null===(t=e.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message)||"Failed to reallocate the item")})):v(),n(t)},refreshData:h})]})}var m=o(1113),v=o(3497);function g(e){let{buttonClick:t,partyId:o}=e;return(0,u.jsx)(v.Z,{children:(0,u.jsxs)(r.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,u.jsx)(m.Z,{variant:"h3",color:"secondary.main",children:"Allocated DO Bookings"}),!1]})})}function h(){const[e,t]=(0,a.useState)([]);let{partyId:o}=(0,n.UO)();const i=async e=>{try{let o={status:"allocated"};e&&(o.partyId=e);const a=await(0,c.Xy)(o);t(a)}catch(o){console.log(o)}};return(0,a.useEffect)((()=>{i(o)}),[]),(0,u.jsxs)(r.Z,{direction:"column",gap:2,children:[(0,u.jsx)(g,{partyId:o}),(0,u.jsx)(f,{partyId:o,data:e,updateData:i})]})}},5713:function(e,t,o){var a=o(7313),n=o(4469),r=o(3604),i=o(6467),s=o(1113),l=o(4631),c=o(4117),d=o(1095),u=o(6417);t.Z=e=>{let{open:t,handleClose:o,itemId:p,itemName:f,onConfirm:m,formHeading:v="cancel"}=e;const[g,h]=(0,a.useState)("");return(0,u.jsxs)(n.Z,{open:t,onClose:o,children:[(0,u.jsxs)(r.Z,{children:[v," Item"]}),(0,u.jsxs)(i.Z,{children:[(0,u.jsxs)(s.Z,{children:["   Are you sure you want to ",v," the order for ",(0,u.jsx)("strong",{children:f}),"?"]}),(0,u.jsx)(l.Z,{autoFocus:!0,margin:"dense",label:" Reason",type:"text",fullWidth:!0,variant:"outlined",value:g,onChange:e=>h(e.target.value)})]}),(0,u.jsxs)(c.Z,{children:[(0,u.jsx)(d.Z,{onClick:o,color:"primary",children:"back"}),(0,u.jsxs)(d.Z,{onClick:()=>{""!==g.trim()?(m(p,g),o()):alert("Please provide a reason for cancellation.")},color:"error",children:["Confirm ",v]})]})]})}},4117:function(e,t,o){o.d(t,{Z:function(){return g}});var a=o(3366),n=o(7462),r=o(7313),i=o(4146),s=o(1921),l=o(7592),c=o(1033),d=o(7430),u=o(2298);function p(e){return(0,u.ZP)("MuiDialogActions",e)}(0,d.Z)("MuiDialogActions",["root","spacing"]);var f=o(6417);const m=["className","disableSpacing"],v=(0,l.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,n.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})}));var g=r.forwardRef((function(e,t){const o=(0,c.i)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:l=!1}=o,d=(0,a.Z)(o,m),u=(0,n.Z)({},o,{disableSpacing:l}),g=(e=>{const{classes:t,disableSpacing:o}=e,a={root:["root",!o&&"spacing"]};return(0,s.Z)(a,p,t)})(u);return(0,f.jsx)(v,(0,n.Z)({className:(0,i.Z)(g.root,r),ownerState:u,ref:t},d))}))},6467:function(e,t,o){o.d(t,{Z:function(){return h}});var a=o(3366),n=o(7462),r=o(7313),i=o(4146),s=o(1921),l=o(7592),c=o(1033),d=o(7430),u=o(2298);function p(e){return(0,u.ZP)("MuiDialogContent",e)}(0,d.Z)("MuiDialogContent",["root","dividers"]);var f=o(3174),m=o(6417);const v=["className","dividers"],g=(0,l.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:o}=e;return(0,n.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},o.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${f.Z.root} + &`]:{paddingTop:0}})}));var h=r.forwardRef((function(e,t){const o=(0,c.i)({props:e,name:"MuiDialogContent"}),{className:r,dividers:l=!1}=o,d=(0,a.Z)(o,v),u=(0,n.Z)({},o,{dividers:l}),f=(e=>{const{classes:t,dividers:o}=e,a={root:["root",o&&"dividers"]};return(0,s.Z)(a,p,t)})(u);return(0,m.jsx)(g,(0,n.Z)({className:(0,i.Z)(f.root,r),ownerState:u,ref:t},d))}))}}]);