"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[405],{2186:function(e,n,r){r.d(n,{Z:function(){return h}});var t=r(3365),a=r(4469),i=r(3604),o=r(2832),l=r(1113),s=r(7313),c=r(1766),d=r(6417);const u=s.forwardRef((function(e,n){return(0,d.jsx)(t.Z,{ref:n,...e})}));function h(e){let{title:n,children:r,open:t,onClose:s,...h}=e;return(0,d.jsxs)(a.Z,{...h,open:t,TransitionComponent:u,children:[(0,d.jsx)(i.Z,{children:(0,d.jsxs)(o.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsx)(l.Z,{variant:"h2",color:"primary.main",children:n}),(0,d.jsx)(c.Z,{sx:{cursor:"pointer"},onClick:s})]})}),r]})}},8999:function(e,n,r){r.d(n,{Z:function(){return m}});var t=r(7313),a=r(3497),i=r(1629),o=r(6835),l=r(3477),s=r(4076),c=r(7478),d=r(3467),u=r(1095),h=r(9848),x=r(6167),f=r(5842),p=r(6417);function m(e){let{data:n,header:r,isShowSerialNo:m=!1,isShowAction:j=!1,actions:Z=["Edit","Delete"],onActionChange:g,onClickAction:y,refreshData:C}=e;const[v,A]=(0,t.useState)(null),[k,S]=(0,t.useState)(null),[T,b]=(0,t.useState)(null),[I,w]=(0,t.useState)(null),[L,_]=(0,t.useState)(!1);return(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(i.Z,{children:(0,p.jsxs)(o.Z,{children:[(0,p.jsx)(l.Z,{children:(0,p.jsxs)(s.Z,{children:[m&&(0,p.jsx)(c.Z,{sx:{color:"primary.main"},children:"SLNO"}),r.map(((e,n)=>(0,p.jsx)(c.Z,{sx:{color:"primary.main"},children:e},n))),j&&(0,p.jsx)(c.Z,{sx:{color:"primary.main"},children:"Action"})]})}),(0,p.jsx)(d.Z,{children:n.map(((e,n)=>(0,p.jsxs)(s.Z,{onClick:()=>(e=>{y&&y(e)})(e._id),children:[m&&(0,p.jsx)(c.Z,{children:n+1}),r.map(((n,r)=>{if("IMAGE"===n.toUpperCase())return(0,p.jsx)(c.Z,{children:(0,p.jsx)("img",{style:{height:"100px"},src:`${e[`${n}`]}`,alt:"img"})},r);if("allocated"!=e.status&&"ALLOCATION"===n.toUpperCase())return console.log("dfffffffffffffffffffffffffffffffffffff"),console.log(e),(0,p.jsx)(c.Z,{children:(0,p.jsx)(u.Z,{variant:"contained",onClick:()=>(e=>{console.log("select alloccccccccccccccccccccccc"),console.log(e),console.log("heeeeeeeeeeeeeeeeeeeeeeedataaaaaaaaaaaaaaaa"),A(e.truckType),S(e.date),w(e.doId),console.log(e.truckType),_(!0)})({doId:e._id,truckType:e.truckType,date:e["available from"]}),children:"Allocate"})},r);if("allocated"==e.status&&"ALLOCATION"===n.toUpperCase())return(0,p.jsx)(c.Z,{children:(0,p.jsx)(u.Z,{variant:"contained",onClick:()=>{return n=e._id,b(n),void _(!0);var n},children:"View Allocation"})},r);if("VIEW DO"===n.toUpperCase()){const n=e["view DO"]||e.deliveryOrderId&&e.deliveryOrderId.doLink;return n?(0,p.jsx)(c.Z,{children:(0,p.jsx)(u.Z,{variant:"contained",onClick:()=>window.open(n,"_blank"),children:"View File"})},r):(0,p.jsx)(c.Z,{children:(0,p.jsx)(u.Z,{variant:"contained",disabled:!0,children:"No File"})},r)}return"isHighRangeArea"!=e.status&&"ISHIGHRANGEAREA"===n.toUpperCase()?(0,p.jsx)(c.Z,{children:e[`${n}`]?"Yes":"No"},r):"STATUS"===n.toUpperCase()?(0,p.jsx)(c.Z,{children:e[`${n}`]?"Active":"Inactive"},r):(0,p.jsx)(c.Z,{children:e[`${n}`]},r)})),j&&(0,p.jsx)(c.Z,{children:(0,p.jsx)(h.Z,{data:e,onActionChange:e=>{g(e)},actions:Z})})]},n)))})]})}),v&&(0,p.jsx)(x.Z,{open:L,close:()=>{A(null),console.log("heeeeeeeeeeeeeeeeeeeeeeeey"),C(),_(!1)},doId:I,date:k,type:v}),T&&(0,p.jsx)(f.Z,{open:L,close:()=>{b(null),C(),_(!1)},doId:T})]})}},8405:function(e,n,r){r.r(n),r.d(n,{default:function(){return w}});var t=r(7313),a=r(2832),i=r(8999),o=r(5266),l=r(7825),s=r(1113),c=r(4631),d=r(1550),u=r(3306),h=r(4256),x=r(1405),f=r(5480),p=r(3929),m=r(24),j=r(1095),Z=r(5627),g=r(1387),y=r(2186),C=r(6417);function v(e){let{getLocation:n,addLocation:r,open:i,onClose:o,isEdit:v=!1,data:A={}}=e;const[k,S]=t.useState(!1),{control:T,handleSubmit:b,formState:{errors:I}}=(0,Z.cI)({defaultValues:v?A.Name:""});return(0,t.useEffect)((()=>{}),[]),(0,C.jsx)(y.Z,{open:i,fullWidth:!0,onClose:()=>{o()},title:(v?"Edit":"Add")+" Truck",children:(0,C.jsx)("form",{onSubmit:b((e=>{console.log(e),r({name:e.name,kilometer:e.kilometer,tripType:e.tripType,isHighRangeArea:k}).then((e=>{console.log(e),g.Am.success("Location Added Successfully"),n(),o()})).catch((e=>{console.error(e),g.Am.error(e.response.data.message)}))})),children:(0,C.jsx)(l.Z,{children:(0,C.jsxs)(a.Z,{direction:"column",sx:{p:2},spacing:1,children:[(0,C.jsx)(s.Z,{variant:"h5",children:"Location Name"}),(0,C.jsx)(Z.Qr,{name:"name",control:T,render:e=>{let{field:n}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c.Z,{...n,placeholder:"Enter Location Name"}),I.name&&(0,C.jsx)("span",{style:{color:"#f00"},children:I.name.message})]})},rules:{required:"Location Name is required"}}),(0,C.jsx)(s.Z,{variant:"h5",children:"Kilometer"}),(0,C.jsx)(Z.Qr,{name:"kilometer",control:T,render:e=>{let{field:n}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c.Z,{...n,placeholder:"Enter Kilometer from terminal"}),I.kilometer&&(0,C.jsx)("span",{style:{color:"#f00"},children:I.kilometer.message})]})},rules:{required:"kilometer is required"}}),(0,C.jsx)(s.Z,{variant:"h5",children:"Trip Type"}),(0,C.jsxs)(d.Z,{error:Boolean(I.tripType),children:[(0,C.jsx)(u.Z,{id:"type-select-label",children:"Trip Type"}),(0,C.jsx)(Z.Qr,{name:"tripType",control:T,render:e=>{let{field:n}=e;return(0,C.jsxs)(h.Z,{...n,labelId:"type-select-label",id:"type-select",label:"triptype",value:n.value||"",onChange:e=>n.onChange(e.target.value),children:[(0,C.jsx)(x.Z,{value:"",children:(0,C.jsx)("em",{children:"None"})}),"nationalPermit long medium local",(0,C.jsx)(x.Z,{value:"local",children:"local "},"local"),(0,C.jsx)(x.Z,{value:"medium",children:"medium "},"medium"),(0,C.jsx)(x.Z,{value:"long",children:"long "},"long"),(0,C.jsx)(x.Z,{value:"nationalPermit",children:"nationalPermit "},"nationalPermit")]})},rules:{required:"Trip Type is required"}}),I.triptype&&(0,C.jsx)(f.Z,{children:I.triptype.message})]}),(0,C.jsx)(d.Z,{children:(0,C.jsx)(p.Z,{sx:{mt:1},control:(0,C.jsx)(m.Z,{checked:k,onChange:()=>S(!k)}),label:"Is HighRange"})}),(0,C.jsx)(j.Z,{variant:"contained",type:"submit",sx:{width:"150px"},children:"Add"})]})})})})}const A=["name","kilometer","isHighRangeArea","tripType"];function k(e){let{data:n,deleteAd:r,updateData:a}=e;const[l,s]=(0,t.useState)(!1),[c,d]=(0,t.useState)(),u=(0,o.h)(n,["name","kilometer","isHighRangeArea","tripType"],A);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(v,{open:l,onClose:()=>{s(!1)},data:c,isEdit:!0}),(0,C.jsx)(i.Z,{data:u,header:A,isShowSerialNo:!0,isShowAction:!0,actions:["delete"],onActionChange:e=>{console.log(e),"delete"==e.action?(console.log(e.data._id),d(e.data),r(e.data._id).then((()=>{})).catch((e=>{console.error(e),g.Am.error(e.response.data.message)}))):d(),a()}})]})}var S=r(2040),T=r(3497);function b(e){let{buttonClick:n}=e;return(0,C.jsx)(T.Z,{children:(0,C.jsxs)(a.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,C.jsx)(s.Z,{variant:"h3",color:"secondary.main",children:"Manage Locations"}),(0,C.jsx)(j.Z,{variant:"contained",startIcon:(0,C.jsx)(S.Z,{}),sx:{backgroundColor:"secondary.main"},onClick:n,children:"Add Locations"})]})})}var I=r(1322);function w(){const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)([]),o=async()=>{try{const e=await(0,I.RY)();i(e)}catch(e){console.log(e)}};return(0,t.useEffect)((()=>{o()}),[]),(0,C.jsxs)(a.Z,{direction:"column",gap:2,children:[(0,C.jsx)(v,{open:e,addLocation:I.Dx,getLocation:o,onClose:()=>n(!1)}),(0,C.jsx)(b,{buttonClick:()=>n(!0)}),(0,C.jsx)(k,{data:r,updateData:o})]})}}}]);