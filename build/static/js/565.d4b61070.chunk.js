"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[565],{1322:function(n,t,e){e.d(t,{$K:function(){return d},$g:function(){return T},AW:function(){return C},Au:function(){return l},BU:function(){return Z},CE:function(){return w},Dx:function(){return I},ES:function(){return M},Et:function(){return z},GB:function(){return f},Gu:function(){return s},IB:function(){return J},Jq:function(){return q},Jr:function(){return k},K3:function(){return p},KI:function(){return F},M$:function(){return W},Mg:function(){return G},Pe:function(){return g},Pw:function(){return O},Q1:function(){return m},RY:function(){return D},S1:function(){return N},T5:function(){return x},T7:function(){return B},Tj:function(){return L},VW:function(){return v},Wo:function(){return R},X2:function(){return Q},X6:function(){return j},Xy:function(){return $},a2:function(){return y},aZ:function(){return u},cW:function(){return _},cn:function(){return S},h8:function(){return E},jK:function(){return P},ji:function(){return i},kR:function(){return H},kl:function(){return h},lQ:function(){return a},oR:function(){return o},r7:function(){return c},ss:function(){return U},ut:function(){return b},uz:function(){return A},xF:function(){return K},zE:function(){return V}});const r=e(5662).Z.create({baseURL:"https://apis.fleetq.live/api/",headers:{"Content-Type":"application/json"}});async function a(n){return(await r.post("company",n)).data}async function o(n){return(await r.delete("company/"+n,n)).data}async function i(n,t){return(await r.patch("company/"+n,t)).data}async function c(n){return(await r.post("company/getAllCompany",n)).data}async function s(n){return(await r.post("truck",n)).data}async function u(n){return(await r.post("truck/getAllTruck",n)).data}async function l(n){return(await r.post("truck/updateTruckStatus",n)).data}async function d(n){return(await r.delete("truck/"+n,n)).data}async function p(n,t){return(await r.patch("truck/"+n,t)).data}async function f(n){return(await r.post("truck/updateTruckBookingStatus",n)).data}async function h(n){return(await r.post("truck/getAllTruckBookings",n)).data}async function g(n){return(await r.post("truck/addTruckToBooking",n)).data}async function y(n){return(await r.post("party/getAllParty",n)).data}async function m(n){return(await r.post("party",n)).data}async function x(n){return(await r.delete(`party/${n}`)).data}async function w(n,t){return(await r.post(`party/${n}`,t)).data}async function j(n){return(await r.put(`party/updateStatus/${n}`)).data}async function k(n){return(await r.post("truck/getAllTruckBookings",{status:n.status})).data}async function v(n){return(await r.post("truck/getInQueueTrucks",n)).data}async function Z(n){return(await r.post("truck/getTruckQueue",n)).data}async function b(n){return(await r.post("allocation/getAllocationDetails",n)).data}async function B(n){return(await r.post("allocation",n)).data}async function P(n){return(await r.post("allocation/changeAllocationStatus",n)).data}async function S(n){return(await r.post("user",n)).data}async function A(n){return(await r.post("user/editUser",n)).data}async function C(n){return(await r.get("user/getAllUsers"+(n?`?companyId=${n}`:""))).data}async function E(n){return(await r.delete(`user/${n}`)).data}async function T(n){const t=await r.post("user/login",n);return console.log(t),t.data}async function D(n){return(await r.post("location/getAllLocation",n)).data}async function I(n){return(await r.post("location",n)).data}async function $(n){return(await r.post("doBooking/getAllDO",n)).data}async function O(n){return(await r.post("allocation/get-All-AllocationDetails",n)).data}async function _(n){return(await r.post("doBooking",n)).data}async function H(n){return(await r.post("doBooking/uploadDO",n)).data}async function W(n,t){try{return(await r.put(`doBooking/updateDO/${n}`,t)).data}catch(e){throw console.error("Error updating delivery order:",e),e}}async function z(n,t){try{return(await r.post(`doBooking/cancelDO/${n}`,t)).data}catch(e){throw console.error("Error updating delivery order:",e),e}}async function U(n,t){try{return(await r.post(`doBooking/cancelDOBooking/${n}`,t)).data}catch(e){throw console.error("Error cancelling Do booking:",e),e}}async function K(n){try{return(await r.post(`doBooking/reopen-do-booking/${n}`)).data}catch(t){throw console.error("Error cancelling Do booking:",t),t}}async function J(n,t){try{return(await r.post(`allocation/cancel-allocated-booking/${n}`,t)).data}catch(e){throw console.error("Error cancelling Do booking:",e),e}}async function L(n){try{return(await r.post(`allocation/re-allocate-booking/${n}`)).data}catch(t){throw console.error("Error cancelling Do booking:",t),t}}async function N(n){return(await r.post("doBooking/getAllDeliveryOrders",n)).data}async function R(n){return(await r.delete("doBooking",n)).data}async function F(n){return(await r.delete("doBooking/deleteDeliveryOrder/"+n)).data}async function Q(n){return(await r.post("driver",n)).data}async function V(n){return(await r.post("driver/getAllDrivers",n)).data}async function q(n){return(await r.post("driver/getCompanyDrivers",n)).data}async function G(n){return(await r.delete("driver/"+n,n)).data}async function M(n,t){return(await r.patch("driver/"+n,t)).data}r.interceptors.request.use((async n=>{const t=localStorage.getItem("token");return t?n.headers.Authorization="Bearer "+t:console.warn("Token not found in localStorage"),n}),(n=>Promise.reject(n))),r.interceptors.response.use((n=>n),(n=>(n.response&&401===n.response.status&&(console.log("Unauthorized, logging out..."),localStorage.clear(),window.location.href="/login"),Promise.reject(n))))},3565:function(n,t,e){e.r(t),e.d(t,{default:function(){return _}});var r=e(7890),a=e(9466),o=e(7313),i=e(9860),c=e(5300),s=e(9019),u=e(2832),l=e(1113),d=e(2247),p=e(891);var f=(0,e(7592).ZP)("div")((n=>{let{theme:t}=n;return{backgroundColor:t.palette.primary.light,minHeight:"100vh"}})),h=e(9536),g=e(3497),y=e(6417);var m=n=>{let{children:t,...e}=n;return(0,y.jsx)(g.Z,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...e,children:(0,y.jsx)(h.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:t})})},x=e(1387),w=e(1550),j=e(3306),k=e(9914),v=e(5480),Z=e(1727),b=e(7131),B=e(1095),P=e(9429),S=e(551),A=e(1730);const C=(0,o.forwardRef)(((n,t)=>{var e,r;let a,o,{children:i,type:c,direction:s,offset:u,scale:l}=n;switch(s){case"up":case"left":a=u,o=0;break;default:a=0,o=u}const[d,p]=(0,S.n)(a,o),[f,h]=(0,S.n)(a,o);switch(c){case"rotate":return(0,y.jsx)(A.E.div,{ref:t,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:i});case"slide":return"up"===s||"down"===s?(0,y.jsx)(A.E.div,{ref:t,animate:{y:void 0!==f?f:""},onHoverEnd:()=>h(),onHoverStart:()=>h(),children:i}):(0,y.jsx)(A.E.div,{ref:t,animate:{x:void 0!==d?d:""},onHoverEnd:()=>p(),onHoverStart:()=>p(),children:i});default:return"number"===typeof l&&(l={hover:l,tap:l}),(0,y.jsx)(A.E.div,{ref:t,whileHover:{scale:null===(e=l)||void 0===e?void 0:e.hover},whileTap:{scale:null===(r=l)||void 0===r?void 0:r.tap},children:i})}}));C.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}};var E=C,T=e(237),D=e(2611);var I=n=>{let{adminLogin:t,...e}=n;const a=(0,i.Z)(),c=(0,r.s0)(),[s,u]=(0,o.useState)(!1),l=()=>{u(!s)},d=n=>{n.preventDefault()};return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(P.J9,{initialValues:{phone:"",password:"",submit:null},onSubmit:async n=>{try{t({phone:n.phone,password:n.password}).then((n=>{console.log(n);let t="admin";n.user.companyId&&(t=n.user.companyId.companyType),localStorage.setItem("role",t),localStorage.setItem("token",n.accessToken),localStorage.setItem("user",JSON.stringify(n.user)),x.Am.success("Login Success"),c("admin"==t?"/doUpload":"/dashboard")})).catch((n=>{console.log(n),x.Am.error(n.response.data.message),console.log(n)}))}catch(e){x.Am.error(e),console.error(e)}},children:n=>{let{errors:t,handleBlur:r,handleChange:o,handleSubmit:i,isSubmitting:c,touched:u,values:p}=n;return(0,y.jsxs)("form",{noValidate:!0,onSubmit:i,...e,children:[(0,y.jsxs)(w.Z,{fullWidth:!0,error:Boolean(u.phone&&t.phone),sx:{...a.typography.customInput},children:[(0,y.jsx)(j.Z,{htmlFor:"outlined-adornment-email-login",children:"Phone Number"}),(0,y.jsx)(k.Z,{id:"outlined-adornment-email-login",type:"number",value:p.phone,name:"phone",onBlur:r,onChange:o,label:"Phone Number ",inputProps:{}}),u.phone&&t.phone&&(0,y.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:t.phone})]}),(0,y.jsxs)(w.Z,{fullWidth:!0,error:Boolean(u.password&&t.password),sx:{...a.typography.customInput},children:[(0,y.jsx)(j.Z,{htmlFor:"outlined-adornment-password-login",children:"Password"}),(0,y.jsx)(k.Z,{id:"outlined-adornment-password-login",type:s?"text":"password",value:p.password,name:"password",onBlur:r,onChange:o,endAdornment:(0,y.jsx)(Z.Z,{position:"end",children:(0,y.jsx)(b.Z,{"aria-label":"toggle password visibility",onClick:l,onMouseDown:d,edge:"end",size:"large",children:s?(0,y.jsx)(T.Z,{}):(0,y.jsx)(D.Z,{})})}),label:"Password",inputProps:{}}),u.password&&t.password&&(0,y.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:t.password})]}),t.submit&&(0,y.jsx)(h.Z,{sx:{mt:3},children:(0,y.jsx)(v.Z,{error:!0,children:t.submit})}),(0,y.jsx)(h.Z,{sx:{mt:2},children:(0,y.jsx)(E,{children:(0,y.jsx)(B.Z,{disableElevation:!0,disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Sign in"})})})]})}})})},$=e(9062),O=e(1322);var _=()=>{const n=(0,i.Z)(),t=(0,c.Z)(n.breakpoints.down("md")),e=(0,r.s0)();return(0,o.useEffect)((()=>{let n=JSON.parse(localStorage.getItem("user"));const t=localStorage.getItem("role");console.log(n),n&&t&&e("/dashboard")}),[]),(0,y.jsx)(f,{children:(0,y.jsx)(s.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:(0,y.jsx)(s.ZP,{item:!0,xs:12,children:(0,y.jsx)(s.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,y.jsx)(s.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,y.jsx)(m,{children:(0,y.jsxs)(s.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,y.jsx)(s.ZP,{item:!0,sx:{mb:3},children:(0,y.jsx)(a.rU,{to:"#",children:(0,y.jsx)($.Z,{})})}),(0,y.jsx)(s.ZP,{item:!0,xs:12,children:(0,y.jsx)(s.ZP,{container:!0,direction:t?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,y.jsx)(s.ZP,{item:!0,children:(0,y.jsxs)(u.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:[(0,y.jsx)(l.Z,{color:n.palette.secondary.main,gutterBottom:!0,variant:t?"h3":"h2",children:"Hi, Welcome Back"}),(0,y.jsx)(l.Z,{variant:"caption",fontSize:"16px",textAlign:t?"center":"inherit",children:"Enter your credentials to continue"})]})})})}),(0,y.jsx)(s.ZP,{item:!0,xs:12,children:(0,y.jsx)(I,{adminLogin:O.$g})}),(0,y.jsx)(s.ZP,{item:!0,xs:12,children:(0,y.jsx)(d.Z,{})}),(0,y.jsx)(s.ZP,{item:!0,xs:12,children:(0,y.jsxs)(l.Z,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:["",(0,y.jsx)(p.Z,{href:"https://insigntechsolutions.com/#contact",target:"_blank",rel:"noopener noreferrer",underline:"hover",children:"Contact Us"})]})}),(0,y.jsxs)(s.ZP,{item:!0,xs:12,children:[(0,y.jsxs)(l.Z,{variant:"body2",color:"text.secondary",align:"center",children:["Powered By"," ",(0,y.jsx)(p.Z,{href:"https://insigntechsolutions.com/",target:"_blank",rel:"noopener noreferrer",underline:"hover",children:"Insign Tech Solutions"})]}),(0,y.jsx)(l.Z,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:"24/1701, KC Arcade, Near TV Centre, Csez P.O, Kakkanad, Ernakulam \u2013 682037."})]})]})})})})})})})}}}]);